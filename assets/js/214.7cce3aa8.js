/*! For license information please see 214.7cce3aa8.js.LICENSE.txt */
"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[214],{3214:function(e,t,s){s.d(t,{br:function(){return Eo},Cr:function(){return bo},pt:function(){return _o},rj:function(){return lo},E3:function(){return wo},An:function(){return Co},or:function(){return yo},UG:function(){return ho},C6:function(){return So},tr:function(){return go},Jh:function(){return Mo}});var o,n,i=Object.defineProperty,r=Object.defineProperties,l=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,d=(e,t,s)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,c=(e,t)=>{for(var s in t||(t={}))h.call(t,s)&&d(e,s,t[s]);if(a)for(var s of a(t))u.call(t,s)&&d(e,s,t[s]);return e},p=(e,t)=>r(e,l(t));class g{}class f extends g{}class m extends g{isPopup(){return!1}}class _{}var w,v,C,R,y,b,x,S={},E=[],M=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function D(e,t){for(var s in t)e[s]=t[s];return e}function N(e){var t=e.parentNode;t&&t.removeChild(e)}function z(e,t,s){var o,n,i,r={};for(i in t)"key"==i?o=t[i]:"ref"==i?n=t[i]:r[i]=t[i];if(arguments.length>2&&(r.children=arguments.length>3?w.call(arguments,2):s),"function"==typeof e&&null!=e.defaultProps)for(i in e.defaultProps)void 0===r[i]&&(r[i]=e.defaultProps[i]);return k(e,r,o,n,null)}function k(e,t,s,o,n){var i={type:e,props:t,key:s,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==n?++C:n};return null!=v.vnode&&v.vnode(i),i}function I(e){return e.children}function O(e,t){this.props=e,this.context=t}function T(e,t){if(null==t)return e.__?T(e.__,e.__.__k.indexOf(e)+1):null;for(var s;t<e.__k.length;t++)if(null!=(s=e.__k[t])&&null!=s.__e)return s.__e;return"function"==typeof e.type?T(e):null}function P(e){var t,s;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(s=e.__k[t])&&null!=s.__e){e.__e=e.__c.base=s.__e;break}return P(e)}}function B(e){(!e.__d&&(e.__d=!0)&&R.push(e)&&!L.__r++||b!==v.debounceRendering)&&((b=v.debounceRendering)||y)(L)}function L(){for(var e;L.__r=R.length;)e=R.sort((function(e,t){return e.__v.__b-t.__v.__b})),R=[],e.some((function(e){var t,s,o,n,i,r;e.__d&&(i=(n=(t=e).__v).__e,(r=t.__P)&&(s=[],(o=D({},n)).__v=n.__v+1,U(r,n,o,t.__n,void 0!==r.ownerSVGElement,null!=n.__h?[i]:null,s,null==i?T(n):i,n.__h),Y(s,n),n.__e!=i&&P(n)))}))}function H(e,t,s,o,n,i,r,l,a,h){var u,d,c,p,g,f,m,_=o&&o.__k||E,w=_.length;for(s.__k=[],u=0;u<t.length;u++)if(null!=(p=s.__k[u]=null==(p=t[u])||"boolean"==typeof p?null:"string"==typeof p||"number"==typeof p||"bigint"==typeof p?k(null,p,null,null,p):Array.isArray(p)?k(I,{children:p},null,null,null):p.__b>0?k(p.type,p.props,p.key,null,p.__v):p)){if(p.__=s,p.__b=s.__b+1,null===(c=_[u])||c&&p.key==c.key&&p.type===c.type)_[u]=void 0;else for(d=0;d<w;d++){if((c=_[d])&&p.key==c.key&&p.type===c.type){_[d]=void 0;break}c=null}U(e,p,c=c||S,n,i,r,l,a,h),g=p.__e,(d=p.ref)&&c.ref!=d&&(m||(m=[]),c.ref&&m.push(c.ref,null,p),m.push(d,p.__c||g,p)),null!=g?(null==f&&(f=g),"function"==typeof p.type&&null!=p.__k&&p.__k===c.__k?p.__d=a=A(p,a,e):a=V(e,p,c,_,g,a),h||"option"!==s.type?"function"==typeof s.type&&(s.__d=a):e.value=""):a&&c.__e==a&&a.parentNode!=e&&(a=T(c))}for(s.__e=f,u=w;u--;)null!=_[u]&&("function"==typeof s.type&&null!=_[u].__e&&_[u].__e==s.__d&&(s.__d=T(o,u+1)),K(_[u],_[u]));if(m)for(u=0;u<m.length;u++)G(m[u],m[++u],m[++u])}function A(e,t,s){var o,n;for(o=0;o<e.__k.length;o++)(n=e.__k[o])&&(n.__=e,t="function"==typeof n.type?A(n,t,s):V(s,n,n,e.__k,n.__e,t));return t}function $(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){$(e,t)})):t.push(e)),t}function V(e,t,s,o,n,i){var r,l,a;if(void 0!==t.__d)r=t.__d,t.__d=void 0;else if(null==s||n!=i||null==n.parentNode)e:if(null==i||i.parentNode!==e)e.appendChild(n),r=null;else{for(l=i,a=0;(l=l.nextSibling)&&a<o.length;a+=2)if(l==n)break e;e.insertBefore(n,i),r=i}return void 0!==r?r:n.nextSibling}function F(e,t,s){"-"===t[0]?e.setProperty(t,s):e[t]=null==s?"":"number"!=typeof s||M.test(t)?s:s+"px"}function W(e,t,s,o,n){var i;e:if("style"===t)if("string"==typeof s)e.style.cssText=s;else{if("string"==typeof o&&(e.style.cssText=o=""),o)for(t in o)s&&t in s||F(e.style,t,"");if(s)for(t in s)o&&s[t]===o[t]||F(e.style,t,s[t])}else if("o"===t[0]&&"n"===t[1])i=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=s,s?o||e.addEventListener(t,i?j:X,i):e.removeEventListener(t,i?j:X,i);else if("dangerouslySetInnerHTML"!==t){if(n)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==s?"":s;break e}catch(h){}"function"==typeof s||(null!=s&&(!1!==s||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,s):e.removeAttribute(t))}}function X(e){this.l[e.type+!1](v.event?v.event(e):e)}function j(e){this.l[e.type+!0](v.event?v.event(e):e)}function U(e,t,s,o,n,i,r,l,a){var h,u,d,c,p,g,f,m,_,C,R,y=t.type;if(void 0!==t.constructor)return null;null!=s.__h&&(a=s.__h,l=t.__e=s.__e,t.__h=null,i=[l]),(h=v.__b)&&h(t);try{e:if("function"==typeof y){if(m=t.props,_=(h=y.contextType)&&o[h.__c],C=h?_?_.props.value:h.__:o,s.__c?f=(u=t.__c=s.__c).__=u.__E:("prototype"in y&&y.prototype.render?t.__c=u=new y(m,C):(t.__c=u=new O(m,C),u.constructor=y,u.render=q),_&&_.sub(u),u.props=m,u.state||(u.state={}),u.context=C,u.__n=o,d=u.__d=!0,u.__h=[]),null==u.__s&&(u.__s=u.state),null!=y.getDerivedStateFromProps&&(u.__s==u.state&&(u.__s=D({},u.__s)),D(u.__s,y.getDerivedStateFromProps(m,u.__s))),c=u.props,p=u.state,d)null==y.getDerivedStateFromProps&&null!=u.componentWillMount&&u.componentWillMount(),null!=u.componentDidMount&&u.__h.push(u.componentDidMount);else{if(null==y.getDerivedStateFromProps&&m!==c&&null!=u.componentWillReceiveProps&&u.componentWillReceiveProps(m,C),!u.__e&&null!=u.shouldComponentUpdate&&!1===u.shouldComponentUpdate(m,u.__s,C)||t.__v===s.__v){u.props=m,u.state=u.__s,t.__v!==s.__v&&(u.__d=!1),u.__v=t,t.__e=s.__e,t.__k=s.__k,t.__k.forEach((function(e){e&&(e.__=t)})),u.__h.length&&r.push(u);break e}null!=u.componentWillUpdate&&u.componentWillUpdate(m,u.__s,C),null!=u.componentDidUpdate&&u.__h.push((function(){u.componentDidUpdate(c,p,g)}))}u.context=C,u.props=m,u.state=u.__s,(h=v.__r)&&h(t),u.__d=!1,u.__v=t,u.__P=e,h=u.render(u.props,u.state,u.context),u.state=u.__s,null!=u.getChildContext&&(o=D(D({},o),u.getChildContext())),d||null==u.getSnapshotBeforeUpdate||(g=u.getSnapshotBeforeUpdate(c,p)),R=null!=h&&h.type===I&&null==h.key?h.props.children:h,H(e,Array.isArray(R)?R:[R],t,s,o,n,i,r,l,a),u.base=t.__e,t.__h=null,u.__h.length&&r.push(u),f&&(u.__E=u.__=null),u.__e=!1}else null==i&&t.__v===s.__v?(t.__k=s.__k,t.__e=s.__e):t.__e=function(e,t,s,o,n,i,r,l){var a,h,u,d=s.props,c=t.props,p=t.type,g=0;if("svg"===p&&(n=!0),null!=i)for(;g<i.length;g++)if((a=i[g])&&(a===e||(p?a.localName==p:3==a.nodeType))){e=a,i[g]=null;break}if(null==e){if(null===p)return document.createTextNode(c);e=n?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,c.is&&c),i=null,l=!1}if(null===p)d===c||l&&e.data===c||(e.data=c);else{if(i=i&&w.call(e.childNodes),h=(d=s.props||S).dangerouslySetInnerHTML,u=c.dangerouslySetInnerHTML,!l){if(null!=i)for(d={},g=0;g<e.attributes.length;g++)d[e.attributes[g].name]=e.attributes[g].value;(u||h)&&(u&&(h&&u.__html==h.__html||u.__html===e.innerHTML)||(e.innerHTML=u&&u.__html||""))}if(function(e,t,s,o,n){var i;for(i in s)"children"===i||"key"===i||i in t||W(e,i,null,s[i],o);for(i in t)n&&"function"!=typeof t[i]||"children"===i||"key"===i||"value"===i||"checked"===i||s[i]===t[i]||W(e,i,t[i],s[i],o)}(e,c,d,n,l),u)t.__k=[];else if(g=t.props.children,H(e,Array.isArray(g)?g:[g],t,s,o,n&&"foreignObject"!==p,i,r,i?i[0]:s.__k&&T(s,0),l),null!=i)for(g=i.length;g--;)null!=i[g]&&N(i[g]);l||("value"in c&&void 0!==(g=c.value)&&(g!==e.value||"progress"===p&&!g)&&W(e,"value",g,d.value,!1),"checked"in c&&void 0!==(g=c.checked)&&g!==e.checked&&W(e,"checked",g,d.checked,!1))}return e}(s.__e,t,s,o,n,i,r,a);(h=v.diffed)&&h(t)}catch(M){t.__v=null,(a||null!=i)&&(t.__e=l,t.__h=!!a,i[i.indexOf(l)]=null),v.__e(M,t,s)}}function Y(e,t){v.__c&&v.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(i){v.__e(i,t.__v)}}))}function G(e,t,s){try{"function"==typeof e?e(t):e.current=t}catch(r){v.__e(r,s)}}function K(e,t,s){var o,n;if(v.unmount&&v.unmount(e),(o=e.ref)&&(o.current&&o.current!==e.__e||G(o,null,t)),null!=(o=e.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(a){v.__e(a,t)}o.base=o.__P=null}if(o=e.__k)for(n=0;n<o.length;n++)o[n]&&K(o[n],t,"function"!=typeof e.type);s||null==e.__e||N(e.__e),e.__e=e.__d=void 0}function q(e,t,s){return this.constructor(e,s)}function Q(e,t){var s,o,n,i,r,l;s=e,o=t,n=Q,v.__&&v.__(s,o),r=(i="function"==typeof n)?null:n&&n.__k||o.__k,l=[],U(o,s=(!i&&n||o).__k=z(I,null,[s]),r||S,S,void 0!==o.ownerSVGElement,!i&&n?[n]:r?null:o.firstChild?w.call(o.childNodes):null,l,!i&&n?n:r?r.__e:o.firstChild,i),Y(l,s)}w=E.slice,v={__e:function(e,t){for(var s,o,n;t=t.__;)if((s=t.__c)&&!s.__)try{if((o=s.constructor)&&null!=o.getDerivedStateFromError&&(s.setState(o.getDerivedStateFromError(e)),n=s.__d),null!=s.componentDidCatch&&(s.componentDidCatch(e),n=s.__d),n)return s.__E=s}catch(a){e=a}throw e}},C=0,O.prototype.setState=function(e,t){var s;s=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=D({},this.state),"function"==typeof e&&(e=e(D({},s),this.props)),e&&D(s,e),null!=e&&this.__v&&(t&&this.__h.push(t),B(this))},O.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),B(this))},O.prototype.render=I,R=[],y="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,L.__r=0,x=0;const J=(ee={__c:Z="__cC"+x++,__:void 0,Consumer:function(e,t){return e.children(t)},Provider:function(e){var t,s;return this.getChildContext||(t=[],(s={})[Z]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&t.some(B)},this.sub=function(e){t.push(e);var s=e.componentWillUnmount;e.componentWillUnmount=function(){t.splice(t.indexOf(e),1),s&&s.call(e)}}),e.children}}).Provider.__=ee.Consumer.contextType=ee;var Z,ee;function te(e){return z(J.Provider,{value:e.grid},e.children)}var se,oe,ne,ie=0,re=[],le=v.__b,ae=v.__r,he=v.diffed,ue=v.__c,de=v.unmount;function ce(e,t){v.__h&&v.__h(oe,e,ie||t),ie=0;var s=oe.__H||(oe.__H={__:[],__h:[]});return e>=s.__.length&&s.__.push({}),s.__[e]}function pe(e){return ie=1,function(e,t,s){var o=ce(se++,2);return o.t=e,o.__c||(o.__=[xe(void 0,t),function(e){var t=o.t(o.__[0],e);o.__[0]!==t&&(o.__=[t,o.__[1]],o.__c.setState({}))}],o.__c=oe),o.__}(xe,e)}function ge(e,t){var s=ce(se++,4);!v.__s&&function(e,t){return!e||e.length!==t.length||t.some((function(t,s){return t!==e[s]}))}(s.__H,t)&&(s.__=e,s.__H=t,oe.__h.push(s))}function fe(e){var t=oe.context[e.__c],s=ce(se++,9);return s.c=e,t?(null==s.__&&(s.__=!0,t.sub(oe)),t.props.value):e.__}function me(){re.forEach((function(e){if(e.__P)try{e.__H.__h.forEach(ye),e.__H.__h.forEach(be),e.__H.__h=[]}catch(ee){e.__H.__h=[],v.__e(ee,e.__v)}})),re=[]}v.__b=function(e){oe=null,le&&le(e)},v.__r=function(e){ae&&ae(e),se=0;var t=(oe=e.__c).__H;t&&(t.__h.forEach(ye),t.__h.forEach(be),t.__h=[])},v.diffed=function(e){he&&he(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==re.push(t)&&ne===v.requestAnimationFrame||((ne=v.requestAnimationFrame)||function(e){var t,s=function(){clearTimeout(o),Re&&cancelAnimationFrame(t),setTimeout(e)},o=setTimeout(s,100);Re&&(t=requestAnimationFrame(s))})(me)),oe=void 0},v.__c=function(e,t){t.some((function(e){try{e.__h.forEach(ye),e.__h=e.__h.filter((function(e){return!e.__||be(e)}))}catch(i){t.some((function(e){e.__h&&(e.__h=[])})),t=[],v.__e(i,e.__v)}})),ue&&ue(e,t)},v.unmount=function(e){de&&de(e);var t=e.__c;if(t&&t.__H)try{t.__H.__.forEach(ye)}catch(i){v.__e(i,t.__v)}};var _e,we,ve,Ce,Re="function"==typeof requestAnimationFrame;function ye(e){var t=oe;"function"==typeof e.__c&&e.__c(),oe=t}function be(e){var t=oe;e.__c=e.__(),oe=t}function xe(e,t){return"function"==typeof t?t(e):t}function Se(e){var t,s,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(s=Se(e[t]))&&(o&&(o+=" "),o+=s);else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}function Ee(){for(var e,t,s=0,o="";s<arguments.length;)(e=arguments[s++])&&(t=Se(e))&&(o&&(o+=" "),o+=t);return o}let Me;(we=_e||(_e={}))[we.Left=0]="Left",we[we.Middle=1]="Middle",we[we.Right=2]="Right",(Ce=ve||(ve={})).clean=function(e){e.innerHTML=""},Ce.appendClassName=function(e,t){const s=e.className.split(" ");-1===s.findIndex((e=>e===t))&&(s.push(t),e.className=s.join(" "))},Ce.removeClassName=function(e,t){const s=e.className.split(" "),o=s.findIndex((e=>e===t));-1!==o&&(s.splice(o,1),e.className=s.join(" "))},Ce.setClassNames=function(e,t){e.className=Oe(t)},Ce.isInViewport=function(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)};const De="undefined"==typeof navigator?void 0:navigator,Ne=null==De?void 0:De.clipboard,ze=null==(o=null==Ne?void 0:Ne.readText)?void 0:o.bind(Ne),ke=null==(n=null==Ne?void 0:Ne.writeText)?void 0:n.bind(Ne);function Ie(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function Oe(...e){return Ee(...e)}function Te(){var e=0;return function(){return e++}}function Pe(e,...t){return e.filter((e=>t.every((t=>t.indexOf(e)<0))))}function Be(e,...t){return e.filter((e=>t.every((t=>-1!==t.indexOf(e)))))}function Le(e){return e.filter(((t,s)=>e.indexOf(t,0)===s))}function He(e,t,s){const o=t<0?e.length+t:t;if(o>=0&&o<e.length){const o=s<0?e.length+s:s,[n]=e.splice(t,1);e.splice(o,0,n)}}function Ae(e,t){return function(s){return function(o){const n=fe(J),[i,r]=pe(e(n.getState(),{grid:n,props:o})),l=t?t(n):void 0;return ge((()=>function(e,t,s,o){const n={state:t(e.getState(),o),getState:()=>n.state,cancel:()=>{}};return n.cancel=e.subscribeAny((()=>{const i=t(e.getState(),o);(function(e,t){if(Ie(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const s=Object.keys(e),o=Object.keys(t);if(s.length!==o.length)return!1;for(let n=0;n<s.length;n++)if(!Object.prototype.hasOwnProperty.call(t,s[n])||!Ie(e[s[n]],t[s[n]]))return!1;return!0})(i,n.state)||(n.state=i,s(n.state))})),n}(n.getRoot(),e,(e=>{r(e)}),{grid:n,props:o}).cancel),[]),z(s,c(c(c({},i),o),l))}}}function $e(e){return function(t){const s=fe(J);return z(e,c({grid:s},t))}}class Ve extends O{constructor(){super(...arguments),this.refs={}}createRef(e){const t={current:null};return this.refs[e]=t,t}}function Fe(e,t){for(var s in e)if("__source"!==s&&!(s in t))return!0;for(var o in t)if("__source"!==o&&e[o]!==t[o])return!0;return!1}function We(e){this.props=e}(We.prototype=new O).isPureReactComponent=!0,We.prototype.shouldComponentUpdate=function(e,t){return Fe(this.props,e)||Fe(this.state,t)};var Xe=v.__b;v.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),Xe&&Xe(e)};var je=v.__e;v.__e=function(e,t,s){if(e.then)for(var o,n=t;n=n.__;)if((o=n.__c)&&o.__c)return null==t.__e&&(t.__e=s.__e,t.__k=s.__k),o.__c(e,t);je(e,t,s)};var Ue=v.unmount;function Ye(){this.__u=0,this.t=null,this.__b=null}function Ge(e){var t=e.__.__c;return t&&t.__e&&t.__e(e)}function Ke(){this.u=null,this.o=null}v.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),Ue&&Ue(e)},(Ye.prototype=new O).__c=function(e,t){var s=t.__c,o=this;null==o.t&&(o.t=[]),o.t.push(s);var n=Ge(o.__v),i=!1,r=function(){i||(i=!0,s.__R=null,n?n(l):l())};s.__R=r;var l=function(){if(!--o.__u){if(o.state.__e){var e=o.state.__e;o.__v.__k[0]=function e(t,s,o){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map((function(t){return e(t,s,o)})),t.__c&&t.__c.__P===s&&(t.__e&&o.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=o)),t}(e,e.__c.__P,e.__c.__O)}var t;for(o.setState({__e:o.__b=null});t=o.t.pop();)t.forceUpdate()}},a=!0===t.__h;o.__u++||a||o.setState({__e:o.__b=o.__v.__k[0]}),e.then(r,r)},Ye.prototype.componentWillUnmount=function(){this.t=[]},Ye.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var s=document.createElement("div"),o=this.__v.__k[0].__c;this.__v.__k[0]=function e(t,s,o){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),t.__c.__H=null),null!=(t=function(e,t){for(var s in t)e[s]=t[s];return e}({},t)).__c&&(t.__c.__P===o&&(t.__c.__P=s),t.__c=null),t.__k=t.__k&&t.__k.map((function(t){return e(t,s,o)}))),t}(this.__b,s,o.__O=o.__P)}this.__b=null}var n=t.__e&&z(I,null,e.fallback);return n&&(n.__h=null),[z(I,null,t.__e?null:e.children),n]};var qe=function(e,t,s){if(++s[1]===s[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(s=e.u;s;){for(;s.length>3;)s.pop()();if(s[1]<s[0])break;e.u=s=s[2]}};(Ke.prototype=new O).__e=function(e){var t=this,s=Ge(t.__v),o=t.o.get(e);return o[0]++,function(n){var i=function(){t.props.revealOrder?(o.push(n),qe(t,e,o)):n()};s?s(i):i()}},Ke.prototype.render=function(e){this.u=null,this.o=new Map;var t=$(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var s=t.length;s--;)this.o.set(t[s],this.u=[1,0,this.u]);return e.children},Ke.prototype.componentDidUpdate=Ke.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,s){qe(e,s,t)}))};var Qe="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,Je=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Ze=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(e)};O.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(O.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var et=v.event;function tt(){}function st(){return this.cancelBubble}function ot(){return this.defaultPrevented}v.event=function(e){return et&&(e=et(e)),e.persist=tt,e.isPropagationStopped=st,e.isDefaultPrevented=ot,e.nativeEvent=e};var nt={configurable:!0,get:function(){return this.class}},it=v.vnode;v.vnode=function(e){var t=e.type,s=e.props,o=s;if("string"==typeof t){for(var n in o={},s){var i=s[n];"value"===n&&"defaultValue"in s&&null==i||("defaultValue"===n&&"value"in s&&null==s.value?n="value":"download"===n&&!0===i?i="":/ondoubleclick/i.test(n)?n="ondblclick":/^onchange(textarea|input)/i.test(n+t)&&!Ze(s.type)?n="oninput":/^on(Ani|Tra|Tou|BeforeInp)/.test(n)?n=n.toLowerCase():Je.test(n)?n=n.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===i&&(i=void 0),o[n]=i)}"select"==t&&o.multiple&&Array.isArray(o.value)&&(o.value=$(s.children).forEach((function(e){e.props.selected=-1!=o.value.indexOf(e.props.value)}))),"select"==t&&null!=o.defaultValue&&(o.value=$(s.children).forEach((function(e){e.props.selected=o.multiple?-1!=o.defaultValue.indexOf(e.props.value):o.defaultValue==e.props.value}))),e.props=o}t&&s.class!=s.className&&(nt.enumerable="className"in s,null!=s.className&&(o.class=s.className),Object.defineProperty(o,"className",nt)),e.$$typeof=Qe,it&&it(e)};var rt=v.__r;v.__r=function(e){rt&&rt(e)};class lt extends We{constructor(){super(...arguments),this.refs={}}createRef(e){const t={current:null};return this.refs[e]=t,t}}class at extends Ve{constructor(){super(...arguments),this.handleClick=e=>{this.props.disabled||this.props.subMenus||(this.props.action&&this.props.action(),this.props.onClick&&this.props.onClick(e))},this.showSubMenus=()=>{const e=this.refs.self.current,t=e.getBoundingClientRect(),s={x:t.left+e.offsetWidth-2,y:t.top};this.setState({subMenuCoord:s,subMenuVisible:!0})},this.hideSubMenus=()=>{this.setState({subMenuVisible:!1})}}get hasSubMenus(){return this.props.subMenus&&!this.props.disabled}render(){return this.props.separator?z("div",{className:"v-grid-menu-separator"}):z("div",{className:this.props.disabled?"v-grid-menu-disabled-item":"v-grid-menu-item",onClick:this.handleClick,onMouseOver:this.hasSubMenus?this.showSubMenus:void 0,onMouseLeave:this.hasSubMenus?this.hideSubMenus:void 0,ref:this.createRef("self")},z("span",{className:"v-grid-menu-item-icon"},z("span",{className:this.props.icon})),z("span",{className:"v-grid-menu-item-title"},this.props.name),this.hasSubMenus&&z("span",{className:"vg-cheveron-right"}),this.state.subMenuVisible&&z(ht,{onMenuItemClicked:this.props.onClick,coord:this.state.subMenuCoord,items:this.props.subMenus}))}}class ht extends Ve{constructor(){super(...arguments),this.componentDidMount=()=>{document.addEventListener("click",this.handleClickoutside),this.edgeCheck()},this.componentWillUnmount=()=>{document.removeEventListener("click",this.handleClickoutside)},this.componentDidUpdate=()=>{this.edgeCheck()},this.handleClickoutside=e=>{this.props.onClickOutside&&!this.refs.self.current.contains(e.target)&&setTimeout((()=>{this.props.onClickOutside()}),0)},this.handleMenuItemClicked=e=>{this.props.onMenuItemClicked&&setTimeout((()=>{this.props.onMenuItemClicked(e)}),0)}}get coord(){return this.props.coord?this.props.coord:{x:0,y:0}}edgeCheck(){if(!ve.isInViewport(this.refs.self.current)){const e=this.coord.x-this.refs.self.current.offsetWidth+"px";this.refs.self.current.style.left=e}if(!ve.isInViewport(this.refs.self.current)){const e=this.coord.y-this.refs.self.current.offsetHeight+"px";this.refs.self.current.style.top=e}}render(){return z("div",{ref:this.createRef("self"),style:{left:this.coord.x,top:this.coord.y},className:"v-grid-menu"},this.props.items.map((e=>z(at,c({onClick:this.handleMenuItemClicked},e)))))}}var ut="v-grid-header-column",dt="v-grid-header-column-content",ct="v-grid-column-icon",pt=Ae(((e,{props:t})=>({options:e.column.columns,data:e.column.groupsData[t.value]})))($e(class extends lt{constructor(){super(...arguments),this.toggleCollapsed=()=>{this.props.grid.toggleGroupCollapsed(this.props.value)}}get data(){return this.props.data}render(){const e=this.props.grid.store("column").getGroupWidth(this.props.value,this.props.columns);if(0===e.width)return null;const t={width:e.width};e.flex&&(t.flexGrow=e.flex);const s=Oe([ct,this.data.collapsed?"vg-cheveron-right":"vg-cheveron-left"]);return z("div",{className:ut,style:t},z("div",{className:dt},z("span",null,this.data.headerName),this.data.collapsible&&z("span",{onClick:this.toggleCollapsed,className:s})))}})),gt=Ae(((e,{props:t})=>({options:e.column.columns[t.value]})))($e(class extends lt{constructor(){super(...arguments),this.bindMetaData=()=>{this.self.__isColumn=!0,this.self.__field=this.options.field},this.handleDragStart=e=>{this.props.onDragStart&&this.props.onDragStart(this.options.field,this.self,e)},this.handleMouseDown=e=>{this.props.onResize&&this.props.onResize(this.options.field,this.self.offsetWidth,e)},this.handleContextMenu=e=>{this.props.onContextMenu&&this.props.onContextMenu(this.props.value,e)}}get options(){return this.props.options}componentDidMount(){this.bindMetaData()}componentDidUpdate(){this.bindMetaData()}render(){const e={width:this.options.width,minWidth:this.options.minWidth};this.options.flex&&(e.flexGrow=this.options.flex);const t={column:this.props.value,grid:this.props.grid},s=Ee(dt,this.options.headerClass||[],this.options.getHeaderClass?this.options.getHeaderClass(t):[]),o=c(c({},this.options.headerStyle),this.options.getHeaderStyle?this.options.getHeaderStyle(t):{});return z("div",{ref:e=>this.self=e,className:ut,style:e},z("div",{className:s,style:o},this.options.sortable&&z("span",{onMouseDown:this.handleDragStart,className:Ee(["vg-move",ct,"v-grid-column-drag-handle"])}),z("span",{className:"v-grid-header-name"},this.options.headerName),this.props.onContextMenu&&z("span",{onClick:this.handleContextMenu,className:`${ct} vg-menu`}),!this.options.flex&&this.options.resizable&&z("div",{ref:this.createRef("resizer"),onMouseDown:this.handleMouseDown,className:"v-grid-column-resize-holder"})))}})),ft="v-grid-header-columns",mt=Ae((e=>({height:e.column.height,groups:e.column.groups,groupsData:e.column.groupsData})))($e(class extends O{constructor(){super(...arguments),this.getActiveColumn=e=>{let t,s=e.target;for(;s!=this.columnsRoot&&s;){if(s.__field&&!0===s.__isColumn){t=s.__field;break}s=s.parentElement}if(t)return s},this.handleDragStart=(e,t,s)=>{var o;if(!this.props.grid.trigger("beforeColumnDragStart",e))return;this.ghost||(this.ghost=document.createElement("div"),this.ghost.className="v-grid-column-drag-ghost");const n=(null==(o=this.props.grid.getColumnOptions(e))?void 0:o.headerName)||"";this.ghost.innerHTML=`\n            <span class="vg-move v-grid-ghost-icon"></span>\n            <span>${n}</span>\n        `,this.props.grid.appendChild(this.ghost),document.addEventListener("mousemove",this.handleDragMove),document.addEventListener("mouseup",this.handleDragEnd),this.currentDragStartField=e,this.dragIndicator.style.display="block",this.updateDragEndField(t),this.updateDragGhost(s),this.props.grid.trigger("afterColumnDragStart",e)},this.handleDragMove=e=>{this.updateDragGhost(e),this.updateDragEndField(this.getActiveColumn(e))},this.handleDragEnd=()=>{document.removeEventListener("mousemove",this.handleDragMove),document.removeEventListener("mouseup",this.handleDragEnd),this.props.grid.removeChild(this.ghost),this.dragIndicator.style.display="none";const e=this.currentDragStartField,t=this.currentDragEndField;this.currentDragStartField=this.currentDragEndField=void 0,this.props.grid.trigger("beforeColumnDragEnd",e,t)&&(this.props.grid.store("column").moveColumn(e,t),this.props.grid.trigger("afterColumnDragEnd",e,t))},this.updateDragGhost=e=>{if(!this.ghost)return;const t=this.props.grid.getRootElement().getBoundingClientRect();this.ghost.style.left=e.clientX-t.left+10+"px",this.ghost.style.top=e.clientY-t.top+10+"px"},this.updateDragEndField=e=>{if(!e)return;const t=this.columnsRoot.getBoundingClientRect(),s=e.getBoundingClientRect();this.currentDragEndField=e.__field,this.dragIndicator.style.left=s.left-t.left+"px",this.dragIndicator.style.height=s.height+"px",this.dragIndicator.style.width=s.width+"px"}}render(){const{columns:e,groups:t}=this.props,s={height:this.props.height,minHeight:this.props.height};return z(I,null,t.map((t=>z("div",{className:ft,style:s},t.map(((t,s)=>z(pt,{key:t+String(s),value:t,columns:e})))))),z("div",{ref:e=>this.columnsRoot=e,className:ft,style:s},z("div",{ref:e=>this.dragIndicator=e,className:"v-grid-column-drag-indicator"}),e.map((e=>{const t=this.props.grid.getColumnMenuItems(e).length>0;return z(gt,{key:e,value:e,onResize:this.props.onColumnResizeStart,onDragStart:this.handleDragStart,onContextMenu:t?this.props.onColumnContextMenu:void 0})}))))}})),_t=Ae((e=>({pinnedLeftColumns:e.column.pinnedLeftColumns,pinnedRightColumns:e.column.pinnedRightColumns,normalColumns:e.column.normalColumns})))($e(class extends lt{constructor(){super(...arguments),this.componentDidMount=()=>{this.resize()},this.componentDidUpdate=()=>{this.resize()},this.resize=()=>{this.props.headerContainerRef.current.style.width="",this.props.headerContainerRef.current.style.width=this.props.headerContainerRef.current.scrollWidth+"px"},this.handleColumnContextMenu=(e,t)=>{const s=this.props.grid.getColumnMenuItems(e);0!==s.length&&(this.setState({isMenuVisible:!0,contextMenuItems:s,contextMenuCoord:{x:t.clientX,y:t.clientY}}),t.stopPropagation())},this.hideContextMenu=()=>{this.state.isMenuVisible&&this.setState({isMenuVisible:!1})}}render(){return z("div",{ref:this.props.headerRef,className:"v-grid-header"},this.props.pinnedLeftColumns.length>0&&z("div",{ref:this.props.pinnedLeftColumnsRef,className:Oe(["v-grid-pinned-left-columns"])},z(mt,{columns:this.props.pinnedLeftColumns,onColumnResizeStart:this.props.handleColumnResizeStart,onColumnContextMenu:this.handleColumnContextMenu})),z("div",{ref:this.props.normalColumnsRef,className:"v-grid-normal-columns"},z("div",{ref:this.props.headerContainerRef,className:Oe(["v-grid-header-container"])},z(mt,{columns:this.props.normalColumns,onColumnResizeStart:this.props.handleColumnResizeStart,onColumnContextMenu:this.handleColumnContextMenu}))),this.props.pinnedRightColumns.length>0&&z("div",{ref:this.props.pinnedRightColumnsRef,className:Oe(["v-grid-pinned-right-columns"])},z(mt,{columns:this.props.pinnedRightColumns,onColumnResizeStart:this.props.handleColumnResizeStart,onColumnContextMenu:this.handleColumnContextMenu})),this.state.isMenuVisible&&z(ht,{onMenuItemClicked:this.hideContextMenu,onClickOutside:this.hideContextMenu,coord:this.state.contextMenuCoord,items:this.state.contextMenuItems}))}}));class wt{each(e){for(let t=this.minY;t<=this.maxY;t++)for(let s=this.minX;s<=this.maxX;s++)if(!1===e({x:s,y:t},{x:s-this.minX,y:t-this.minY}))return}eachRow(e){for(let t=this.minY;t<=this.maxY;t++)if(!1===e(t,t-this.minY))return}getStartCoord(){return{x:this.minX,y:this.minY}}getEndCoord(){return{x:this.maxX,y:this.maxY}}getGlobalCoord(e){return{x:this.minX+e.x,y:this.minY+e.y}}getCellCount(){return(this.maxX-this.minX+1)*(this.maxY-this.minY+1)}contains(e){return!this.isEmpty()&&e.x>=this.minX&&e.x<=this.maxX&&e.y>=this.minY&&e.y<=this.maxY}isLeft(e){return!this.isEmpty()&&e.x==this.minX}isRight(e){return!this.isEmpty()&&e.x==this.maxX}isTop(e){return!this.isEmpty()&&e.y==this.minY}isBottom(e){return!this.isEmpty()&&e.y==this.maxY}}class vt extends wt{constructor(e,t){super(),this.start=e,this.end=t,e&&t&&(this.minX=Math.min(e.x,t.x),this.minY=Math.min(e.y,t.y),this.maxX=Math.max(e.x,t.x),this.maxY=Math.max(e.y,t.y))}isEmpty(){return!this.start||!this.end}}class Ct extends wt{constructor(e,t,s){super(),this.ref=e,this.current=t,this.limit=s,void 0!==this.limit&&e&&t&&!e.contains(t)&&("xy"===this.limit&&(this.limit=Math.abs(t.x-e.end.x)>Math.abs(t.y-e.end.y)?"x":"y"),this.start=e.getStartCoord(),this.end=t,"x"===this.limit?(this.end.y=e.end.y,this.start.x=t.x<e.start.x?e.start.x-1:e.end.x+1):(this.end.x=e.end.x,this.start.y=t.y<e.start.y?e.start.y-1:e.end.y+1),this.minX=Math.min(this.start.x,this.end.x),this.minY=Math.min(this.start.y,this.end.y),this.maxX=Math.max(this.start.x,this.end.x),this.maxY=Math.max(this.start.y,this.end.y))}isEmpty(){return!this.start||!this.end}getReference(){return this.ref}chunk(e){if(this.isEmpty())return;const t=this.ref.getStartCoord(),s=this.ref.getEndCoord(),o=this.minX<t.x||this.minY<t.y;let n=[],i=s.y-t.y,r=o?this.minY:this.maxY,l=o?this.maxY:this.minY;for("x"===this.limit&&(i=s.x-t.x,r=o?this.minX:this.maxX,l=o?this.maxX:this.minX);;){const e="x"===this.limit?{x:l,y:this.minY}:{x:this.minX,y:l};l=o?Math.max(l-i,r):Math.min(l+i,r);const t="x"===this.limit?{x:l,y:this.maxY}:{x:this.maxX,y:l};if(n.push(new vt(e,t)),l==r)break;l+=o?-1:1}n.forEach((t=>{e(t)}))}}var Rt,yt,bt,xt,St,Et,Mt,Dt,Nt="v-grid-row-stripe-cells",zt="v-grid-row-cells-hover",kt="v-grid-row-cells-select",It=$e(class extends lt{constructor(){super(...arguments),this.self={current:null},this.updateState=()=>{if(!this.self.current)return;const e=this.props.grid.store("row").getRowIndex(this.props.value),t=this.props.grid.state("row").hoveredRow===this.props.value,s=-1!==this.props.grid.state("row").selectedRows.indexOf(this.props.value);e%2==0?ve.appendClassName(this.self.current,Nt):ve.removeClassName(this.self.current,Nt),t?ve.appendClassName(this.self.current,zt):ve.removeClassName(this.self.current,zt),s?ve.appendClassName(this.self.current,kt):ve.removeClassName(this.self.current,kt)}}componentDidMount(){this.unsubscribe=this.props.grid.store("row").subscribeAny(this.updateState),this.updateState()}componentWillUnmount(){this.unsubscribe()}render(){const e={row:this.props.value,grid:this.props.grid};let t=c(c({},this.props.grid.state("row").rowStyle),this.props.style);this.props.grid.state("row").getRowStyle&&(t=Object.assign({},t,this.props.grid.state("row").getRowStyle(e)));let s=this.props.grid.state("row").rowClass||[];return s.push("v-grid-row-cells"),this.props.grid.state("row").getRowClass&&(s=s.concat(this.props.grid.state("row").getRowClass(e))),s=Le(s),z("div",{ref:this.self,style:t,className:Ee(s)},this.props.children)}}),Ot="v-grid-cell-content",Tt=Ae(((e,{grid:t,props:s})=>{const o=t.getColumnOptions(s.column,s.row),n=null==o?void 0:o.readonly,i=t.getSelectBoundary(s.row,s.column),r=n?void 0:t.getFillingBoundary(s.row,s.column);return{rawValue:t.getRawCellValue(s.row,s.column),isSelected:void 0!==i,isLeftSelected:i&&i.left,isRightSelected:i&&i.right,isTopSelected:i&&i.top,isBottomSelected:i&&i.bottom,isFilling:void 0!==r,isLeftFilling:r&&r.left,isRightFilling:r&&r.right,isTopFilling:r&&r.top,isBottomFilling:r&&r.bottom,options:o,fillable:e.grid.fillable}}))($e(class extends lt{constructor(e){super(e),this.cellContent={current:null},this.popup=null,this.isEditing=!1,this.componentDidMount=()=>{this.bindMetaData(),this.doRender(),this.options.cellEditor&&!this.options.readonly&&(this.unsubscribeEditing=this.props.grid.store("cell").subscribeAny((()=>{const e=this.props.grid.state("cell").editing,t=Boolean(e&&e.row===this.props.row&&e.column===this.props.column);this.isEditing!==t&&(this.isEditing=t,this.handleCellEditing())})))},this.componentWillUnmount=()=>{this.unsubscribeEditing&&this.unsubscribeEditing(),this.props.grid.removeChild(this.popup),this.cellRender&&this.cellRender.beforeDestroy&&this.cellRender.beforeDestroy(),this.cellEditor&&this.cellEditor.beforeDestroy&&this.cellEditor.beforeDestroy()},this.componentDidUpdate=()=>{this.doRender(),this.bindMetaData()},this.bindMetaData=()=>{this.cell.__isCell=!0,this.cell.__column=this.props.column,this.cell.__row=this.props.row,this.dragHandle&&(this.dragHandle.__dragHandle=!0,this.dragHandle.__column=this.props.column,this.dragHandle.__row=this.props.row),this.filler&&(this.filler.__filler=!0,this.filler.__column=this.props.column,this.filler.__row=this.props.row),this.resizer&&(this.resizer.__resizer=!0,this.resizer.__column=this.props.column,this.resizer.__row=this.props.row)},this.handleCellEditing=()=>{if(!this.isEditing)return void(this.cellEditor&&(ve.setClassNames(this.cellContent.current,[Ot]),this.setValue(this.cellEditor.getValue()),this.doRender()));const e=document.createElement("div");ve.clean(this.cellContent.current),ve.appendClassName(this.cellContent.current,"v-grid-cell-editing"),this.cellEditor&&this.cellEditor.beforeDestroy&&this.cellEditor.beforeDestroy(),this.cellEditor=new this.options.cellEditor,this.cellEditor.init&&this.cellEditor.init({props:this.options.cellParams,value:this.getValue(!0),column:this.options,row:this.props.row,gird:this.props.grid}),e.appendChild(this.cellEditor.gui()),e.className="v-grid-cell-editing-wrapper",this.cellEditor.isPopup()?this.createPopup(e):this.cellContent.current.appendChild(e),this.cellEditor.afterAttached&&this.cellEditor.afterAttached()},this.createPopup=e=>{this.popup||(this.popup=document.createElement("div"),this.popup.className="v-grid-cell-popup-container"),ve.clean(this.popup);const t=this.props.grid.getRootElement().getBoundingClientRect(),s=this.cell.getBoundingClientRect();this.popup.style.left=s.left-t.left+"px",this.popup.style.top=s.top-t.top+"px",this.popup.style.minWidth=s.width+"px",this.popup.style.minHeight=s.height+"px",this.popup.appendChild(e),this.props.grid.appendChild(this.popup)}}get options(){return this.props.options}getValue(e=!1){return e?this.props.rawValue:this.props.grid.getCellValue(this.props.row,this.props.column)}setValue(e){this.props.grid.setCellValue(this.props.row,this.props.column,e)}doRender(){this.isEditing||(this.props.options.cellRender?(this.cellRender&&this.cellRender.beforeDestroy&&this.cellRender.beforeDestroy(),this.cellRender=new this.props.options.cellRender,this.cellRender.init&&this.cellRender.init({props:this.props.options.cellParams,value:this.getValue(!0),column:this.props.options,row:this.props.row,gird:this.props.grid}),this.cellContent.current&&(this.props.grid.removeChild(this.popup),ve.clean(this.cellContent.current),this.cellContent.current.appendChild(this.cellRender.gui()),this.cellRender.afterAttached&&this.cellRender.afterAttached())):this.cellContent.current&&(this.cellContent.current.textContent=this.getValue()))}render(){let e=!0===this.options.rowDragable;"function"==typeof this.options.rowDragable&&(e=this.options.rowDragable({row:this.props.row,column:this.props.column,grid:this.props.grid}));const t={column:this.props.column,row:this.props.row,grid:this.props.grid},s=Oe(this.props.options.cellClass||[],this.props.options.getCellClass?this.props.options.getCellClass(t):[],{"v-grid-cell":!0,"v-grid-cell-selected":this.props.isSelected,"v-grid-cell-left-boundary":this.props.isLeftSelected,"v-grid-cell-right-boundary":this.props.isRightSelected,"v-grid-cell-top-boundary":this.props.isTopSelected,"v-grid-cell-bottom-boundary":this.props.isBottomSelected,"v-grid-cell-filling":this.props.isFilling,"v-grid-cell-filling-left-boundary":this.props.isLeftFilling,"v-grid-cell-filling-right-boundary":this.props.isRightFilling,"v-grid-cell-filling-top-boundary":this.props.isTopFilling,"v-grid-cell-filling-bottom-boundary":this.props.isBottomFilling});let o=c({},this.props.style);this.options.cellStyle&&(o=Object.assign({},o,this.options.cellStyle)),this.options.getCellStyle&&(o=Object.assign({},o,this.options.getCellStyle(t))),this.options.flex&&(o.flexGrow=this.options.flex);const n=void 0!==this.props.fillable&&this.props.isBottomSelected&&this.props.isRightSelected;let i=this.props.grid.state("grid").rowResizable;return"function"==typeof i&&(i=i(this.props.row)),z("div",{ref:e=>this.cell=e,className:s,style:o},e&&z("div",{ref:e=>this.dragHandle=e,className:"v-grid-cell-drag-handle"},z("span",{className:"vg-move"})),z("div",{ref:this.cellContent,className:Ot}),n&&z("div",{ref:e=>this.filler=e,className:"v-grid-cell-fill-handler"}),!!i&&z("div",{ref:e=>this.resizer=e,className:"v-grid-row-resize-holder"}))}}));(yt=Rt||(Rt={})).AUTO="auto",yt.START="start",yt.CENTER="center",yt.END="end",(xt=bt||(bt={})).OBSERVED="observed",xt.REQUESTED="requested",(Et=St||(St={})).Horizontal="horizontal",Et.Vertical="vertical",(Dt=Mt||(Mt={})).Vertical="onScrollVertical",Dt.Horizontal="onScrollHorizontal";const Pt={[St.Vertical]:Mt.Vertical,[St.Horizontal]:Mt.Horizontal};var Bt,Lt,Ht,At;(Lt=Bt||(Bt={})).Vertical="scrollTop",Lt.Horizontal="scrollLeft",St.Vertical,Bt.Vertical,St.Horizontal,Bt.Horizontal,(At=Ht||(Ht={})).Vertical="top",At.Horizontal="left";const $t={[St.Vertical]:Ht.Vertical,[St.Horizontal]:Ht.Horizontal};var Vt,Ft;(Ft=Vt||(Vt={})).Vertical="offsetTop",Ft.Horizontal="offsetLeft";const Wt={[St.Vertical]:Vt.Vertical,[St.Horizontal]:Vt.Horizontal};var Xt,jt;(jt=Xt||(Xt={})).Vertical="scrollYNode",jt.Horizontal="scrollXNode";const Ut={[St.Vertical]:Xt.Vertical,[St.Horizontal]:Xt.Horizontal};class Yt{constructor({itemCount:e,itemSizeGetter:t}){this.itemSizeGetter=t,this.itemCount=e,this.itemSizeAndPositionData={},this.lastMeasuredIndex=-1}updateConfig({itemCount:e,itemSizeGetter:t}){null!=e&&(this.itemCount=e),null!=t&&(this.itemSizeGetter=t)}getLastMeasuredIndex(){return this.lastMeasuredIndex}getSizeAndPositionForIndex(e){if(e<0||e>=this.itemCount){if(0===this.itemCount)return{offset:0,size:0};throw Error(`Requested index ${e} is outside of range 0..${this.itemCount}`)}if(e>this.lastMeasuredIndex){const t=this.getSizeAndPositionOfLastMeasuredItem();let s=t.offset+t.size;for(let o=this.lastMeasuredIndex+1;o<=e;o++){const e=this.itemSizeGetter(o);if(null==e||isNaN(e))throw Error(`Invalid size returned for index ${o} of value ${e}`);this.itemSizeAndPositionData[o]={offset:s,size:e},s+=e}this.lastMeasuredIndex=e}return this.itemSizeAndPositionData[e]}getSizeAndPositionOfLastMeasuredItem(){return this.lastMeasuredIndex>=0?this.itemSizeAndPositionData[this.lastMeasuredIndex]:{offset:0,size:0}}getTotalSize(){const e=this.getSizeAndPositionForIndex(Math.max(this.itemCount-1,0));return e.offset+e.size}getUpdatedOffsetForIndex({align:e=Rt.START,containerSize:t,currentOffset:s,targetIndex:o}){if(t<=0)return 0;const n=this.getSizeAndPositionForIndex(o),i=n.offset,r=i-t+n.size;let l;switch(e){case Rt.END:l=r;break;case Rt.CENTER:l=i-(t-n.size)/2;break;case Rt.START:l=i;break;default:l=Math.max(r,Math.min(i,s))}const a=this.getTotalSize();return Math.max(0,Math.min(a-t,l))}getVisibleRange({containerSize:e,offset:t,overscanCount:s}){if(0===this.getTotalSize())return{};const o=t+e;let n=this.findNearestItem(t);if(void 0===n)throw Error(`Invalid offset ${t} specified`);const i=this.getSizeAndPositionForIndex(n);t=i.offset+i.size;let r=n;for(;t<o&&r<this.itemCount-1;)r++,t+=this.getSizeAndPositionForIndex(r).size;return s&&(n=Math.max(0,n-s),r=Math.min(r+s,this.itemCount-1)),{start:n,stop:r}}resetItem(e){this.lastMeasuredIndex=Math.min(this.lastMeasuredIndex,e-1)}findNearestItem(e){if(isNaN(e))throw Error(`Invalid offset ${e} specified`);e=Math.max(0,e);const t=this.getSizeAndPositionOfLastMeasuredItem(),s=Math.max(0,this.lastMeasuredIndex);return t.offset>=e?this.binarySearch({high:s,low:0,offset:e}):this.exponentialSearch({index:s,offset:e})}binarySearch({low:e,high:t,offset:s}){let o=0,n=0;for(;e<=t;){if(o=e+Math.floor((t-e)/2),n=this.getSizeAndPositionForIndex(o).offset,n===s)return o;n<s?e=o+1:n>s&&(t=o-1)}return e>0?e-1:0}exponentialSearch({index:e,offset:t}){let s=1;for(;e<this.itemCount&&this.getSizeAndPositionForIndex(e).offset<t;)e+=s,s*=2;return this.binarySearch({high:Math.min(e,this.itemCount-1),low:Math.floor(e/2),offset:t})}}function Gt(e,t,s,...o){let n,i=new Date;return function(...r){let l=new Date;clearTimeout(n),l.getTime()-i.getTime()>=s?(e(...r,...o),i=l):n=setTimeout((()=>{e(...r,...o)}),t)}}const Kt={width:"100%",height:"100%"},qt={overflowY:"auto",overflowX:"hidden",width:"100%",height:"100%",display:"flex"},Qt={position:"relative",overflowX:"auto",overflowY:"hidden",flexGrow:1,minHeight:"100%"},Jt={position:"relative",height:"100%"},Zt={position:"relative",flexShrink:0,boxSizing:"content-box"},es={height:"100%",width:"100%"},ts={position:"absolute",top:0,left:0,height:"100%",width:"100%"},ss=100,os=100,ns=3,is=1;class rs extends We{constructor(){super(...arguments),this.itemSizeGetter=(e,t)=>s=>this.getSize(t(s),e),this.rowManager=new Yt({itemCount:this.props.rows.length,itemSizeGetter:this.itemSizeGetter(this.props.rowHeight,(e=>this.props.rows[e]))}),this.columnManager=new Yt({itemCount:this.props.columns.length,itemSizeGetter:this.itemSizeGetter(this.props.columnWidth,(e=>this.props.columns[e]))}),this.rowStyleCache={},this.columnStyleCache={},this.state={offsetLeft:this.props.scrollLeftOffset||null!=this.props.scrollToColumnIndex&&this.getOffsetForColumn(this.props.scrollToColumnIndex)||0,offsetTop:this.props.scrollTopOffset||null!=this.props.scrollToRowIndex&&this.getOffsetForRow(this.props.scrollToRowIndex)||0,scrollChangeReason:bt.REQUESTED},this.handleMouseWheel=e=>{0!=e.deltaX&&(e.preventDefault(),0==e.deltaY&&this.props.onWheelHorizontal&&this.props.onWheelHorizontal(e))},this.handleScroll=(e,t)=>{"function"==typeof this.props[Pt[t]]&&this.props[Pt[t]](e);const s=this.getNodeOffset();s[$t[t]]<0||e.target!==this[Ut[t]]||this.state[Wt[t]]===s[$t[t]]||this.setState({[Wt[t]]:s[$t[t]],scrollChangeReason:bt.OBSERVED})},this.getRootRef=e=>{this.rootNode=e},this.getScrollYRef=e=>{this.scrollYNode=e,this.props.getScrollYNode&&this.props.getScrollYNode(e)},this.getScrollXRef=e=>{this.scrollXNode=e,this.props.getScrollXNode&&this.props.getScrollXNode(e)},this.getPinnedLeftWidth=()=>this.props.pinnedLeftColumns.reduce(((e,t)=>e+this.getSize(t,this.props.columnWidth)),0),this.getPinnedRightWidth=()=>this.props.pinnedRightColumns.reduce(((e,t)=>e+this.getSize(t,this.props.columnWidth)),0)}componentDidMount(){var e,t,s;const{throttleRate:o=ss,throttleTimeout:n=os,scrollLeftOffset:i,scrollToColumnIndex:r,scrollTopOffset:l,scrollToRowIndex:a}=this.props;let h,u;this.onScrollVertical=Gt(this.handleScroll,n,o,St.Vertical),this.onScrollHorizontal=Gt(this.handleScroll,n,o,St.Horizontal),null==(e=this.scrollYNode)||e.addEventListener("scroll",this.onScrollVertical,{passive:!0}),null==(t=this.scrollXNode)||t.addEventListener("scroll",this.onScrollHorizontal,{passive:!0}),null==(s=this.scrollXNode)||s.addEventListener("wheel",this.handleMouseWheel,{passive:!1}),null!=i?h=i:null!=r&&(h=this.getOffsetForColumn(r)),null!=l?u=l:null!=a&&(u=this.getOffsetForRow(a)),this.scrollTo({left:h,top:u}),this.forceUpdate()}componentWillReceiveProps(e){const{rows:t,columns:s,rowHeight:o,columnWidth:n,scrollTopOffset:i,scrollLeftOffset:r,scrollToRowAlignment:l,scrollToColumnAlignment:a,scrollToRowIndex:h,scrollToColumnIndex:u}=this.props,d=e.scrollToRowIndex!==h||e.scrollToColumnIndex!==u||e.scrollToRowAlignment!==l||e.scrollToColumnAlignment!==a,c=e.rows!==t||e.columns!==s||e.rowHeight!==o||e.columnWidth!==n;e.rowHeight!==o&&this.rowManager.updateConfig({itemSizeGetter:this.itemSizeGetter(e.rowHeight,(t=>e.rows[t]))}),e.columnWidth!==n&&this.columnManager.updateConfig({itemSizeGetter:this.itemSizeGetter(e.columnWidth,(t=>e.columns[t]))}),e.rows!==t&&this.rowManager.updateConfig({itemCount:e.rows.length}),e.columns!==s&&this.columnManager.updateConfig({itemCount:e.columns.length}),c&&this.recomputeSizes(),e.scrollLeftOffset!==r||e.scrollTopOffset!=i?this.setState({offsetLeft:e.scrollLeftOffset||0,offsetTop:e.scrollTopOffset||0,scrollChangeReason:bt.REQUESTED}):d?this.setState({offsetLeft:this.getOffsetForColumn(e.scrollToColumnIndex||0,e.scrollToColumnAlignment,e.columns.length),offsetTop:this.getOffsetForRow(e.scrollToRowIndex||0,e.scrollToRowAlignment,e.rows.length),scrollChangeReason:bt.REQUESTED}):c&&this.forceUpdate()}componentDidUpdate(e,t){const s=this.scrollXNode.parentNode,o=Math.max(this.scrollXNode.offsetHeight-this.scrollXNode.clientHeight,17);this.scrollXNode.style.height=s.offsetHeight+o+"px";const{offsetLeft:n,offsetTop:i,scrollChangeReason:r}=this.state;t.offsetLeft===n&&t.offsetTop==i||r!==bt.REQUESTED||this.scrollTo({left:n,top:i})}componentWillUnmount(){var e,t,s;null==(e=this.scrollYNode)||e.removeEventListener("scroll",this.onScrollVertical),null==(t=this.scrollXNode)||t.removeEventListener("scroll",this.onScrollHorizontal),null==(s=this.scrollXNode)||s.removeEventListener("wheel",this.handleMouseWheel)}scrollTo({top:e,left:t}){null!=e&&this.scrollYNode&&(this.scrollYNode.scrollTop=e),null!=t&&this.scrollXNode&&(this.scrollXNode.scrollLeft=t)}getOffsetForColumn(e,t=this.props.scrollToColumnAlignment,s=this.props.columns.length){var o;return(e<0||e>=s)&&(e=0),this.columnManager.getUpdatedOffsetForIndex({align:t,containerSize:(null==(o=this.scrollXNode)?void 0:o.offsetWidth)||0,currentOffset:this.state&&this.state.offsetLeft||0,targetIndex:e})}getOffsetForRow(e,t=this.props.scrollToRowAlignment,s=this.props.rows.length){var o;return(e<0||e>=s)&&(e=0),this.rowManager.getUpdatedOffsetForIndex({align:t,containerSize:(null==(o=this.rootNode)?void 0:o.offsetHeight)||0,currentOffset:this.state&&this.state.offsetTop||0,targetIndex:e})}recomputeSizes(e=0,t=0){this.rowStyleCache={},this.columnStyleCache={},this.rowManager.resetItem(e),this.columnManager.resetItem(t)}getSize(e,t){return"function"==typeof t?t(e):"number"==typeof t?t:t[e]}getRowStyle(e){const t=this.props.rows[e],s=this.rowStyleCache[t];if(s)return s;const{size:o,offset:n}=this.rowManager.getSizeAndPositionForIndex(e);return this.rowStyleCache[t]=p(c({},ts),{height:o,transform:`translateY(${n}px)`})}getColumnStyle(e){const t=this.props.columns[e],s=this.columnStyleCache[t];if(s)return s;const{size:o,offset:n}=this.columnManager.getSizeAndPositionForIndex(e);return this.columnStyleCache[t]=p(c({},ts),{width:o,left:n})}getPinnedColumnStyle(e){const t=this.columnStyleCache[e];if(t)return t;const s=this.getSize(e,this.props.columnWidth);return this.columnStyleCache[e]=p(c({},es),{width:s})}getNodeOffset(){var e,t;return{top:(null==(e=this.scrollYNode)?void 0:e.scrollTop)||0,left:(null==(t=this.scrollXNode)?void 0:t.scrollLeft)||0}}render(){var e,t;const{style:s,pinnedLeftColumns:o=[],pinnedRightColumns:n=[],overscanRowCount:i=ns,overscanColumnCount:r=is,renderRow:l,renderCell:a}=this.props,h={className:this.props.className,children:this.props.children},{offsetLeft:u,offsetTop:d}=this.state,g=this.rowManager.getVisibleRange({containerSize:(null==(e=this.rootNode)?void 0:e.offsetHeight)||0,offset:d,overscanCount:i}),f=this.columnManager.getVisibleRange({containerSize:(null==(t=this.scrollXNode)?void 0:t.offsetWidth)||0,offset:u,overscanCount:r}),m=this.columnManager.getTotalSize(),_=this.rowManager.getTotalSize(),w=this.getPinnedLeftWidth(),v=this.getPinnedRightWidth(),C=[],R=[],y=[];if(null!=g.start&&null!=g.stop)for(let b=g.start;b<=g.stop;b++){const e=this.props.rows[b],t=[],s=o.map((t=>a({style:this.getPinnedColumnStyle(t),column:t,row:e}))),i=n.map((t=>a({style:this.getPinnedColumnStyle(t),column:t,row:e})));if(null!=f.start&&null!=f.stop)for(let o=f.start;o<=f.stop;o++){const s=this.props.columns[o];t.push(a({style:this.getColumnStyle(o),row:e,column:s}))}const r=this.getRowStyle(b);s.length>0&&R.push(l({style:p(c({},r),{display:"flex"}),row:e,cells:s})),i.length>0&&y.push(l({style:p(c({},r),{display:"flex"}),row:e,cells:i})),C.push(l({style:r,row:e,cells:t}))}return z("div",p(c({ref:this.getRootRef},h),{style:c(c({},Kt),s)}),z("div",{ref:this.getScrollYRef,style:qt},R.length>0&&z("div",{className:this.props.pinnedLeftClassName,style:p(c({},Zt),{width:w,height:_})},R),z("div",{style:p(c({},Qt),{overflow:"hidden",height:_})},z("div",{ref:this.getScrollXRef,style:c({},Qt)},z("div",{style:p(c({},Jt),{width:m})},C))),y.length>0&&z("div",{className:this.props.pinnedRightClassName,style:p(c({},Zt),{width:v,height:_})},y)))}}rs.defaultProps={throttleRate:ss,throttleTimeout:os,overscanRowCount:ns,overscanColumnCount:is};var ls={root:"v-grid-root",grid:"v-grid-grid",normalCells:"v-grid-normal-cells",normalCellsViewPort:"v-grid-normal-cells-view-port",normalColumns:"v-grid-normal-columns",pinnedRightCells:"v-grid-pinned-right-cells",pinnedRightColumns:"v-grid-pinned-right-columns",pinnedLeftCells:"v-grid-pinned-left-cells",pinnedLeftColumns:"v-grid-pinned-left-columns",body:"v-grid-body",pinnedTopRows:"v-grid-pinned-top-rows",pinnedBottomRows:"v-grid-pinned-bottom-rows",rowCells:"v-grid-row-cells",cell:"v-grid-cell",noBorder:"v-grid-no-border",horizontalScroll:"v-grid-horizontal-scroll",horizontalRightSpacer:"v-grid-horizontal-right-spacer",horizontalLeftSpacer:"v-grid-horizontal-left-spacer",horizontalScrollView:"v-grid-horizontal-scroll-view",horizontalScrollContainer:"v-grid-horizontal-scroll-container",columnResizer:"v-grid-column-resizer",rowIndicator:"v-grid-row-indicator",rowDragGhost:"v-grid-row-drag-ghost",ghostIcon:"v-grid-ghost-icon",loading:"v-grid-loading",dot:"v-grid-dot",slide:"v-grid-slide"},as=Ae((e=>({columns:e.column.columns,overscanColumnCount:e.grid.overscanColumnCount,overscanRowCount:e.grid.overscanRowCount,scrollThrottleRate:e.grid.scrollThrottleRate,pinnedLeftColumns:e.column.pinnedLeftColumns,pinnedRightColumns:e.column.pinnedRightColumns,normalColumns:e.column.normalColumns,defaultRowHeight:e.row.height,rowHeights:e.row.rowHeights})))($e(class extends lt{constructor(){super(...arguments),this.renderCell=({row:e,column:t,style:s})=>z(Tt,{key:t,row:e,column:t,style:s}),this.renderRow=({row:e,style:t,cells:s})=>z(It,{key:e,value:e,style:t},s),this.getActiveCell=(e,t="__isCell")=>{let s,o,n=e.target;for(;n!=this.root;){if(n.__column&&n.__row&&!0===n[t]){s=n.__column,o=n.__row;break}n=n.parentElement}const i=this.props.grid.state("cell").editing||{column:void 0,row:void 0};if(s&&o&&(s!==i.column||o!==i.row))return{column:s,row:o,el:n}},this.handleDbClick=e=>{if("function"!=typeof this.props.onCellDbClick)return;const t=this.getActiveCell(e);t&&this.props.onCellDbClick(e,t.el,t.row,t.column)},this.handleMouseDown=e=>{if("function"!=typeof this.props.onCellMouseDown)return;if(this.getActiveCell(e,"__dragHandle"))return this.handleDragStart(e,this.getActiveCell(e));if(this.getActiveCell(e,"__resizer"))return this.handleResizeStart(e,this.getActiveCell(e));const t=this.getActiveCell(e,"__filler");if(t)return this.props.onFillerMouseDown(e,t.el,t.row,t.column);const s=this.getActiveCell(e);return s?this.props.onCellMouseDown(e,s.el,s.row,s.column):void 0},this.handleMouseUp=e=>{if("function"!=typeof this.props.onCellMouseUp)return;const t=this.getActiveCell(e);t&&this.props.onCellMouseUp(e,t.el,t.row,t.column)},this.handleMouseMove=e=>{if(this.currentDragStartRow)return this.updateDragEndRow(this.getActiveCell(e));if("function"!=typeof this.props.onCellMouseMove)return;const t=this.getActiveCell(e);t&&this.props.onCellMouseMove(e,t.el,t.row,t.column)},this.handleResizeStart=(e,t)=>{if(!t)return;const s=this.getRowHeight(t.row);this.props.grid.trigger("beforeRowResizingStart",t.row,s)&&(this.currentResizingRow={row:t.row,height:s,pos:e.clientY},this.rowIndicator.style.display="block",this.rowIndicator.style.height="2px",this.rowIndicator.style.opacity="1",document.addEventListener("mousemove",this.updateRowResizer),document.addEventListener("mouseup",this.handleResizeEnd),this.updateRowResizer(e),this.props.grid.trigger("afterRowResizingStart",t.row,s))},this.updateRowResizer=e=>{const t=this.root.getBoundingClientRect();e.clientY-this.currentResizingRow.pos+this.currentResizingRow.height>=this.props.grid.state("row").minHeight&&(this.rowIndicator.style.top=e.clientY-t.top+"px")},this.handleResizeEnd=e=>{if(document.removeEventListener("mousemove",this.updateRowResizer),document.removeEventListener("mouseup",this.handleResizeEnd),this.currentResizingRow){const{row:e,height:t,pos:s}=this.currentResizingRow,o=this.rowIndicator.getBoundingClientRect().top-s+t,n=this.props.grid.trigger("beforeRowResizingEnd",e,o);n&&this.props.grid.store("row").dispatch("setRowHeight",{row:e,height:o}),this.props.grid.trigger("afterRowResizingEnd",e,n?o:t)}this.rowIndicator.style.opacity="",this.rowIndicator.style.display="none"},this.handleDragStart=(e,t)=>{if(!t)return;if(!this.props.grid.trigger("beforeRowDragStart",t.row))return;this.ghost||(this.ghost=document.createElement("div"),this.ghost.className=ls.rowDragGhost);const s=this.props.grid.getCellValue(t.row,t.column);this.ghost.innerHTML=`\n            <span class="vg-move ${ls.ghostIcon}"></span>\n            <span>${s}</span>\n        `,this.props.grid.appendChild(this.ghost),document.addEventListener("mousemove",this.updateDragGhost),document.addEventListener("mouseup",this.handleDragEnd),this.currentDragStartRow=t.row,this.rowIndicator.style.display="block",this.updateDragEndRow(t),this.updateDragGhost(e),this.props.grid.trigger("afterRowDragStart",t.row)},this.updateDragGhost=e=>{if(!this.ghost)return;const t=this.props.grid.getRootElement().getBoundingClientRect();this.ghost.style.left=e.clientX-t.left+10+"px",this.ghost.style.top=e.clientY-t.top+10+"px"},this.handleDragEnd=()=>{document.removeEventListener("mouseup",this.handleDragEnd),document.removeEventListener("mousemove",this.updateDragGhost),this.props.grid.removeChild(this.ghost),this.rowIndicator.style.display="none";const e=this.currentDragStartRow,t=this.currentDragEndRow;if(this.currentDragStartRow=this.currentDragEndRow=void 0,!this.props.grid.trigger("beforeRowDragEnd",e,t))return;const s=this.props.grid.store("row"),o=s.getRowInternalIndex(e),n=s.getRowInternalIndex(t);void 0!==o&&void 0!==n&&o!=n&&s.sortRows((e=>{return t=e,s=o,i=n,He(t=[...t],s,i),t;var t,s,i})),this.props.grid.trigger("afterRowDragEnd",e,t)},this.updateDragEndRow=e=>{if(!e)return;const t=this.root.getBoundingClientRect(),s=e.el.parentElement.getBoundingClientRect();this.currentDragEndRow=e.row,this.rowIndicator.style.top=s.top-t.top+"px",this.rowIndicator.style.height=s.height+"px"},this.getRowHeight=e=>this.props.rowHeights[e]?this.props.rowHeights[e]:"function"==typeof this.props.defaultRowHeight?this.props.defaultRowHeight(e):this.props.defaultRowHeight}render(){return z("div",{ref:e=>this.root=e,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onMouseMove:this.handleMouseMove,onDblClick:this.handleDbClick,style:{width:"100%",height:"100%",position:"relative"}},z("div",{ref:e=>this.rowIndicator=e,className:ls.rowIndicator}),z(rs,{rows:this.props.items,rowHeight:this.getRowHeight,columns:this.props.normalColumns,pinnedLeftClassName:ls.pinnedLeftCells,pinnedRightClassName:ls.pinnedRightCells,pinnedLeftColumns:this.props.pinnedLeftColumns,pinnedRightColumns:this.props.pinnedRightColumns,columnWidth:e=>{const t=this.props.grid.getColumnOptions(e);return Math.max(null==t?void 0:t.width,null==t?void 0:t.minWidth)},throttleRate:this.props.scrollThrottleRate,overscanRowCount:this.props.overscanRowCount,overscanColumnCount:this.props.overscanColumnCount,renderRow:this.renderRow,renderCell:this.renderCell,onWheelHorizontal:this.props.onWheelHorizontal,onScrollHorizontal:this.props.onScrollHorizontal,onScrollVertical:this.props.onScrollVertical,getScrollXNode:this.props.getScrollXNode,getScrollYNode:this.props.getScrollYNode}))}})),hs=Ae((e=>({})),(e=>({getCoordinate:(t,s)=>e.getCoordinate(t,s),getCoordLocatedRange:t=>e.getCoordLocatedRange(t),hoverRow:t=>e.store("row").dispatch("setHoveredRow",t),selectCells:(t,s)=>e.store("cell").dispatch("selectCells",{start:t,end:s}),setEditing:t=>e.setEditing(t),setFilling:t=>e.store("cell").dispatch("setFilling",t)})))($e(class extends lt{constructor(){super(...arguments),this.componentDidMount=()=>{document.addEventListener("mouseup",this.handleMouseUp)},this.componentWillUnmount=()=>{document.removeEventListener("mouseup",this.handleMouseUp)},this.handleCellDbClick=(e,t,s,o)=>{!1!==this.props.grid.trigger("beforeCellDbClicked",{row:s,column:o},e,t)&&(this.props.setEditing({row:s,column:o}),this.props.grid.trigger("afterCellDbClicked",{row:s,column:o},e,t))},this.handleCellMouseDown=(e,t,s,o)=>{if(!1===this.props.grid.trigger("beforeCellMouseDown",{row:s,column:o},e,t))return;e.stopPropagation(),this.props.grid.stopEditing();const n=this.props.getCoordinate(s,o);if(e.button===_e.Right){const t=this.props.grid.getContextMenuItems({row:s,column:o});if(0===t.length)return;if(!1===this.props.grid.trigger("beforeContextMenuShow",{row:s,column:o},t))return;if(this.setState({isMenuVisible:!0,contextMenuItems:t,contextMenuCoord:{x:e.clientX,y:e.clientY}},(()=>{this.props.grid.trigger("afterContextMenuShow",{row:s,column:o},t)})),this.props.grid.getCoordLocatedRange(n))return;if(-1!==this.props.grid.getSelectedRows().indexOf(s))return}else this.hideContextMenu();e.button!==_e.Left&&e.button!==_e.Right||(this.handleSelectRow(s),this.selectionStart=this.selectionEnd=n,this.isSelecting=!0,this.handleSelectionChanged(),this.props.grid.trigger("afterCellMouseDown",{row:s,column:o},e,t))},this.handleSelectRow=e=>{if(this.currentKey&&this.currentKey.shiftKey){const t=this.props.grid.getSelectedRows(),s=this.props.grid.getRowIndex(t[t.length-1]),o=this.props.grid.getRowIndex(e);return this.props.grid.selectRows(t.concat(this.props.grid.getRowsBetween(s,o)))}if(this.currentKey&&(this.currentKey.ctrlKey||this.currentKey.metaKey))return this.props.grid.appendSelectedRows([e]);this.props.grid.selectRows([e])},this.handleCellMouseMove=(e,t,s,o)=>{var n;if(!1===this.props.grid.trigger("beforeCellMouseMove",{row:s,column:o},e,t))return;this.props.hoverRow(s);const i=this.props.getCoordinate(s,o);if(this.isSelecting){if(this.selectionEnd&&this.selectionEnd.x==i.x&&this.selectionEnd.y==i.y)return;this.selectionEnd=i,this.handleSelectionChanged()}if(this.isFilling&&!(null==(n=this.props.grid.getColumnOptions(o))?void 0:n.readonly)){if(this.fillingEnd&&this.fillingEnd.x==i.x&&this.fillingEnd.y==i.y)return;this.fillingEnd=i,this.handleFillRangeChanged()}this.props.grid.trigger("afterCellMouseMove",{row:s,column:o},e,t)},this.handleCellFillerMouseDown=(e,t,s,o)=>{if(!1===this.props.grid.trigger("beforeFillerMouseDown",{row:s,column:o},e,t))return;if(e.button!==_e.Left)return;const n=this.props.getCoordinate(s,o),i=this.props.getCoordLocatedRange(n);i&&(this.fillingRef=i,this.fillingEnd=n,this.isFilling=!0,this.handleFillRangeChanged(),this.props.grid.trigger("afterFillerMouseDown",{row:s,column:o},e,t))},this.handleMouseUp=()=>{this.isSelecting&&(this.isSelecting=!1),this.isFilling&&(this.isFilling=!1,this.handleFill(new Ct(this.fillingRef,this.fillingEnd,this.props.grid.state("grid").fillable)),this.fillingRef=this.fillingEnd=null,this.handleFillRangeChanged())},this.handleSelectionChanged=()=>{!1!==this.props.grid.trigger("beforeSelectionChange",this.selectionStart,this.selectionEnd)&&(this.props.selectCells(this.selectionStart,this.selectionEnd),this.props.grid.trigger("afterSelectionChange",this.selectionStart,this.selectionEnd))},this.handleFillRangeChanged=()=>{this.props.setFilling(new Ct(this.fillingRef,this.fillingEnd,this.props.grid.state("grid").fillable))},this.handleFill=e=>{if(!1===this.props.grid.trigger("beforeFilling",e))return;const t=e.getReference();e.chunk((e=>{e.each(((e,s)=>{const o=t.getGlobalCoord(s);this.props.grid.setCellValueByCoord(e,this.props.grid.getCellValueByCoord(o))}))})),this.props.grid.trigger("afterFilling",e)},this.handleKeyDown=e=>{!1!==this.props.grid.trigger("beforeKeyDown",e)&&(this.currentKey=e,"c"===e.key&&(e.ctrlKey||e.metaKey)?this.props.grid.copySelection():"v"===e.key&&(e.ctrlKey||e.metaKey)&&e.shiftKey?this.props.grid.pasteFromClipboard(!0):"v"===e.key&&(e.ctrlKey||e.metaKey)&&this.props.grid.pasteFromClipboard(),this.props.grid.trigger("afterKeyDown",e))},this.handleKeyPress=e=>{!1!==this.props.grid.trigger("beforeKeyPress",e)&&this.props.grid.trigger("afterKeyPress",e)},this.handleKeyUp=e=>{!1!==this.props.grid.trigger("beforeKeyUp",e)&&(this.currentKey=e,this.props.grid.trigger("afterKeyUp",e))},this.hideContextMenu=()=>{this.state.isMenuVisible&&this.setState({isMenuVisible:!1})}}render(){const e=this.props.grid.state("grid").getContextMenuItems?e=>{e.preventDefault()}:void 0;return z("div",{ref:this.createRef("self"),className:ls.body,onMouseLeave:()=>this.props.hoverRow(void 0),onContextMenu:e,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onKeyPress:this.handleKeyPress,onMouseEnter:()=>{var e;return null==(e=this.refs.self)?void 0:e.current.focus()},tabIndex:0},this.state.isMenuVisible&&z(ht,{onMenuItemClicked:this.hideContextMenu,onClickOutside:this.hideContextMenu,coord:this.state.contextMenuCoord,items:this.state.contextMenuItems}),z("div",{ref:this.props.pinnedTopRowsRef,className:Ee(ls.pinnedTopRows,{[ls.noBorder]:0===this.props.pinnedTopRows.length})},this.props.pinnedTopRows.length>0&&z(as,{items:this.props.pinnedTopRows,onWheelHorizontal:this.props.onWheelHorizontal,onCellDbClick:this.handleCellDbClick,onCellMouseDown:this.handleCellMouseDown,onCellMouseMove:this.handleCellMouseMove,onFillerMouseDown:this.handleCellFillerMouseDown,getScrollXNode:this.props.getScrollXNode})),z("div",{style:{height:"100%",position:"relative",overflow:"hidden",flexGrow:1}},this.props.normalRows.length>0&&z(as,{items:this.props.normalRows,onWheelHorizontal:this.props.onWheelHorizontal,onCellDbClick:this.handleCellDbClick,onCellMouseDown:this.handleCellMouseDown,onCellMouseMove:this.handleCellMouseMove,onFillerMouseDown:this.handleCellFillerMouseDown,getScrollXNode:this.props.getScrollXNode,getScrollYNode:this.props.getScrollYNode})),z("div",{ref:this.props.pinnedBottomRowsRef,className:Ee(ls.pinnedBottomRows,{[ls.noBorder]:0===this.props.pinnedBottomRows.length})},this.props.pinnedBottomRows.length>0&&z(as,{items:this.props.pinnedBottomRows,onWheelHorizontal:this.props.onWheelHorizontal,onCellDbClick:this.handleCellDbClick,onCellMouseDown:this.handleCellMouseDown,onFillerMouseDown:this.handleCellFillerMouseDown,onCellMouseMove:this.handleCellMouseMove,getScrollXNode:this.props.getScrollXNode})))}}));var us,ds,cs,ps,gs,fs,ms,_s,ws,vs,Cs,Rs,ys,bs,xs,Ss=!1;function Es(){if(!Ss){Ss=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),s=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(Rs=/\b(iPhone|iP[ao]d)/.exec(e),ys=/\b(iP[ao]d)/.exec(e),vs=/Android/i.exec(e),bs=/FBAN\/\w+;/i.exec(e),xs=/Mobile/i.exec(e),Cs=!!/Win64/.exec(e),t){(us=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN)&&document&&document.documentMode&&(us=document.documentMode);var o=/(?:Trident\/(\d+.\d+))/.exec(e);fs=o?parseFloat(o[1])+4:us,ds=t[2]?parseFloat(t[2]):NaN,cs=t[3]?parseFloat(t[3]):NaN,(ps=t[4]?parseFloat(t[4]):NaN)?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),gs=t&&t[1]?parseFloat(t[1]):NaN):gs=NaN}else us=ds=cs=gs=ps=NaN;if(s){if(s[1]){var n=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);ms=!n||parseFloat(n[1].replace("_","."))}else ms=!1;_s=!!s[2],ws=!!s[3]}else ms=_s=ws=!1}}var Ms,Ds={ie:function(){return Es()||us},ieCompatibilityMode:function(){return Es()||fs>us},ie64:function(){return Ds.ie()&&Cs},firefox:function(){return Es()||ds},opera:function(){return Es()||cs},webkit:function(){return Es()||ps},safari:function(){return Ds.webkit()},chrome:function(){return Es()||gs},windows:function(){return Es()||_s},osx:function(){return Es()||ms},linux:function(){return Es()||ws},iphone:function(){return Es()||Rs},mobile:function(){return Es()||Rs||ys||vs||xs},nativeApp:function(){return Es()||bs},android:function(){return Es()||vs},ipad:function(){return Es()||ys}},Ns=Ds,zs=!("undefined"==typeof window||!window.document||!window.document.createElement),ks=zs;zs&&!window.addEventListener&&window.attachEvent,zs&&window.screen;ks&&(Ms=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("",""));var Is=Ns;function Os(e){var t=0,s=0,o=0,n=0;return"detail"in e&&(s=e.detail),"wheelDelta"in e&&(s=-e.wheelDelta/120),"wheelDeltaY"in e&&(s=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=s,s=0),o=10*t,n=10*s,"deltaY"in e&&(n=e.deltaY),"deltaX"in e&&(o=e.deltaX),(o||n)&&e.deltaMode&&(1==e.deltaMode?(o*=40,n*=40):(o*=800,n*=800)),o&&!t&&(t=o<1?-1:1),n&&!s&&(s=n<1?-1:1),{spinX:t,spinY:s,pixelX:o,pixelY:n}}Os.getEventType=function(){return Is.firefox()?"DOMMouseScroll":function(e,t){if(!ks||t&&!("addEventListener"in document))return!1;var s="on"+e,o=s in document;if(!o){var n=document.createElement("div");n.setAttribute(s,"return;"),o="function"==typeof n[s]}return!o&&Ms&&"wheel"===e&&(o=document.implementation.hasFeature("Events.wheel","3.0")),o}("wheel")?"wheel":"mousewheel"};var Ts=Os,Ps=Ae((e=>({loading:e.grid.loading,width:e.grid.width,height:e.grid.height,normalRows:e.row.normalRows,pinnedTopRows:e.row.pinnedTopRows,pinnedBottomRows:e.row.pinnedBottomRows})))($e(class extends Ve{constructor(){super(...arguments),this.unsubscribes=[],this.scrollXNodes=[],this.componentDidMount=()=>{this.unsubscribes.push(this.props.grid.getRoot().subscribeAny((()=>{this.resize()}))),document.addEventListener("click",this.handleClickOutside)},this.componentDidUpdate=()=>{this.resize()},this.componentWillUnmount=()=>{this.unsubscribes.forEach((e=>e())),document.removeEventListener("click",this.handleClickOutside)},this.handleClickOutside=e=>{var t;(null==(t=this.refs.root)?void 0:t.current.contains(e.target))||(this.props.grid.getSelectedRows().length>0&&this.props.grid.selectRows([]),this.props.grid.state("cell").selections.length>0&&this.props.grid.selectCells(null,null),this.props.grid.state("cell").editing&&this.props.grid.stopEditing())},this.getColumnOptions=e=>this.props.grid.getColumnOptions(e),this.handleColumnResizeStart=(e,t,s)=>{if(!1===this.props.grid.trigger("beforeColumnResizingStart",e,t))return;document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("mousemove",this.handleMouseMove);const o=s.pageX-this.refs.root.current.getBoundingClientRect().left;this.refs.columnResizer.current.style.left=o+"px",this.refs.columnResizer.current.style.width="2px",this.resizingColumn={field:e,width:t,pos:s.clientX},this.props.grid.trigger("afterColumnResizingStart",e,t)},this.handleMouseUp=e=>{if(document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("mousemove",this.handleMouseMove),this.refs.columnResizer.current.style.left="0px",this.refs.columnResizer.current.style.width="0px",this.resizingColumn){const t=e.clientX-this.resizingColumn.pos+this.resizingColumn.width,s=this.getColumnOptions(this.resizingColumn.field).minWidth,o={field:this.resizingColumn.field,width:Math.max(t,s)},n=this.props.grid.trigger("beforeColumnResizingEnd",o.field,t);n&&this.props.grid.store("column").dispatch("updateColumnWidth",o),this.props.grid.trigger("afterColumnResizingEnd",o.field,n?o.width:this.resizingColumn.width)}},this.handleMouseMove=e=>{const t=e.pageX-this.refs.root.current.getBoundingClientRect().left;this.refs.columnResizer.current.style.left=t+"px"},this.getScrollXNode=e=>{this.scrollXNodes.push(e)},this.handleHorizontalWheel=e=>{const t=Ts(e);this.horizontalScrollbar.scrollLeft+=t.pixelX},this.handleHorizontalScroll=e=>{const t=e.target.scrollLeft;this.scrollXNodes.forEach((e=>{e.scrollLeft=t})),this.refs.headerContainer.current.style.transform=`translateX(-${t}px)`}}resize(){var e,t,s,o,n,i,r,l;const a=(null==(e=this.scrollYNode)?void 0:e.offsetWidth)-(null==(t=this.scrollYNode)?void 0:t.clientWidth)||0;let h=0;this.refs.headerContainer.current.scrollWidth>this.refs.normalColumns.current.clientWidth&&(null==Me&&function(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let s=t.offsetWidth-t.clientWidth;0===s&&0===t.clientWidth&&(s=null),t.parentNode&&t.parentNode.removeChild(t),null!=s&&(Me=0===s)}(),h=Me?17:this.refs.horizontalScrollContainer.current.offsetHeight);const u=(null==(o=null==(s=this.refs.headerContainer)?void 0:s.current)?void 0:o.scrollWidth)||0;this.refs.header.current.style.paddingRight=a+"px",this.refs.pinnedTopRows.current.style.paddingRight=a+"px",this.refs.pinnedBottomRows.current.style.paddingRight=a+"px",this.refs.horizontalScrollWrapper.current.style.height=h+"px",this.refs.horizontalScrollWrapper.current.style.display=h>0?"":"none",this.refs.horizontalScrollContainer.current.style.height=h+"px",this.refs.horizontalScrollContainer.current.style.width=u+"px",this.refs.horizontalLeftSpacer.current.style.width=((null==(i=null==(n=this.refs.pinnedLeftColumns)?void 0:n.current)?void 0:i.scrollWidth)||0)+"px",this.refs.horizontalRightSpacer.current.style.width=((null==(l=null==(r=this.refs.pinnedRightColumns)?void 0:r.current)?void 0:l.offsetWidth)||0)+a+"px"}render(){const e={width:this.props.width,height:this.props.height};return z("div",{ref:this.createRef("root"),className:ls.root,style:e},z("div",{className:ls.grid},z(_t,{headerRef:this.createRef("header"),headerContainerRef:this.createRef("headerContainer"),normalColumnsRef:this.createRef("normalColumns"),pinnedLeftColumnsRef:this.createRef("pinnedLeftColumns"),pinnedRightColumnsRef:this.createRef("pinnedRightColumns"),handleColumnResizeStart:this.handleColumnResizeStart}),z(hs,{pinnedTopRows:this.props.pinnedTopRows,pinnedBottomRows:this.props.pinnedBottomRows,normalRows:this.props.normalRows,onWheelHorizontal:this.handleHorizontalWheel,pinnedTopRowsRef:this.createRef("pinnedTopRows"),pinnedBottomRowsRef:this.createRef("pinnedBottomRows"),getScrollXNode:this.getScrollXNode,getScrollYNode:e=>this.scrollYNode=e}),z("div",{ref:this.createRef("horizontalScrollWrapper"),className:ls.horizontalScroll},z("div",{ref:this.createRef("horizontalLeftSpacer"),className:ls.horizontalLeftSpacer}),z("div",{ref:e=>this.horizontalScrollbar=e,className:ls.horizontalScrollView,onScroll:this.handleHorizontalScroll},z("div",{ref:this.createRef("horizontalScrollContainer"),className:ls.horizontalScrollContainer})),z("div",{ref:this.createRef("horizontalRightSpacer"),className:ls.horizontalRightSpacer})),z("div",{ref:this.createRef("columnResizer"),className:ls.columnResizer}),this.props.loading&&z("div",{className:ls.loading},z("div",{className:ls.spinner},z("div",{className:ls.dot}),z("div",{className:ls.dot}),z("div",{className:ls.dot}),z("div",{className:ls.dot}),z("div",{className:ls.dot})))))}}));function Bs(e){const[t,s]=pe({destroyed:!1});return ge((()=>e.grid.store("grid").subscribe("destroy",(()=>{s({destroyed:!0})}))),[]),!t.destroyed&&z(te,{grid:e.grid},z(Ps,null))}function Ls(e,t){Q(z(Bs,{grid:e}),t)}class Hs{constructor(e,t){this._listeners=e,this._actions={},this._anyListeners=[],this._state=t||{}}getState(){return this._state}subscribeAny(e){return this._anyListeners.push(e),()=>{this._anyListeners.splice(this._anyListeners.indexOf(e),1)}}subscribe(e,t){return this._listeners[e].push(t),()=>{this._listeners[e].splice(this._listeners[e].indexOf(t),1)}}handle(e,t){return this._actions[e]=t,this}dispatch(e,t){const s=this._actions[e];if(!s)return;const o=s(this._state,t);if(o!==this._state){const s=this._state;this._state=o,this._listeners[e].forEach((e=>e(t,o,s))),this._anyListeners.forEach((e=>e(t,o,s)))}}}class As extends Hs{constructor(e){super(Object.keys(e).reduce(((e,t)=>(e[t]=[],e)),{}),Object.keys(e).reduce(((t,s)=>(t[s]=e[s].getState(),t)),{})),this.stores=e,Object.keys(e).forEach((t=>{e[t].subscribeAny((()=>{this.dispatch(t,void 0)})),this.handle(t,(s=>(s[t]=e[t].getState(),c({},s))))}))}store(e){return this.stores[e]}state(e){return this._state[e]}}var $s={exports:{}};!function(e,t){function s(e){return"object"!=typeof e||"toString"in e?e:Object.prototype.toString.call(e).slice(8,-1)}Object.defineProperty(t,"__esModule",{value:!0});var o="object"==typeof process&&!0;function n(e,t){if(!e){if(o)throw new Error("Invariant failed");throw new Error(t())}}t.invariant=n;var i=Object.prototype.hasOwnProperty,r=Array.prototype.splice,l=Object.prototype.toString;function a(e){return l.call(e).slice(8,-1)}var h=Object.assign||function(e,t){return u(t).forEach((function(s){i.call(t,s)&&(e[s]=t[s])})),e},u="function"==typeof Object.getOwnPropertySymbols?function(e){return Object.keys(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.keys(e)};function d(e){return Array.isArray(e)?h(e.constructor(e.length),e):"Map"===a(e)?new Map(e):"Set"===a(e)?new Set(e):e&&"object"==typeof e?h(Object.create(Object.getPrototypeOf(e)),e):e}var c=function(){function e(){this.commands=h({},p),this.update=this.update.bind(this),this.update.extend=this.extend=this.extend.bind(this),this.update.isEquals=function(e,t){return e===t},this.update.newContext=function(){return(new e).update}}return Object.defineProperty(e.prototype,"isEquals",{get:function(){return this.update.isEquals},set:function(e){this.update.isEquals=e},enumerable:!0,configurable:!0}),e.prototype.extend=function(e,t){this.commands[e]=t},e.prototype.update=function(e,t){var s=this,o="function"==typeof t?{$apply:t}:t;Array.isArray(e)&&Array.isArray(o)||n(!Array.isArray(o),(function(){return"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."})),n("object"==typeof o&&null!==o,(function(){return"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the following commands: "+Object.keys(s.commands).join(", ")+"."}));var r=e;return u(o).forEach((function(t){if(i.call(s.commands,t)){var n=e===r;r=s.commands[t](o[t],r,o,e),n&&s.isEquals(r,e)&&(r=e)}else{var l="Map"===a(e)?s.update(e.get(t),o[t]):s.update(e[t],o[t]),h="Map"===a(r)?r.get(t):r[t];s.isEquals(l,h)&&(void 0!==l||i.call(e,t))||(r===e&&(r=d(e)),"Map"===a(r)?r.set(t,l):r[t]=l)}})),r},e}();t.Context=c;var p={$push:function(e,t,s){return f(t,s,"$push"),e.length?t.concat(e):t},$unshift:function(e,t,s){return f(t,s,"$unshift"),e.length?e.concat(t):t},$splice:function(e,t,o,i){return function(e,t){n(Array.isArray(e),(function(){return"Expected $splice target to be an array; got "+s(e)})),_(t.$splice)}(t,o),e.forEach((function(e){_(e),t===i&&e.length&&(t=d(i)),r.apply(t,e)})),t},$set:function(e,t,s){return function(e){n(1===Object.keys(e).length,(function(){return"Cannot have more than one key in an object with $set"}))}(s),e},$toggle:function(e,t){m(e,"$toggle");var s=e.length?d(t):t;return e.forEach((function(e){s[e]=!t[e]})),s},$unset:function(e,t,s,o){return m(e,"$unset"),e.forEach((function(e){Object.hasOwnProperty.call(t,e)&&(t===o&&(t=d(o)),delete t[e])})),t},$add:function(e,t,s,o){return w(t,"$add"),m(e,"$add"),"Map"===a(t)?e.forEach((function(e){var s=e[0],n=e[1];t===o&&t.get(s)!==n&&(t=d(o)),t.set(s,n)})):e.forEach((function(e){t!==o||t.has(e)||(t=d(o)),t.add(e)})),t},$remove:function(e,t,s,o){return w(t,"$remove"),m(e,"$remove"),e.forEach((function(e){t===o&&t.has(e)&&(t=d(o)),t.delete(e)})),t},$merge:function(e,t,o,i){var r,l;return r=t,n((l=e)&&"object"==typeof l,(function(){return"update(): $merge expects a spec of type 'object'; got "+s(l)})),n(r&&"object"==typeof r,(function(){return"update(): $merge expects a target of type 'object'; got "+s(r)})),u(e).forEach((function(s){e[s]!==t[s]&&(t===i&&(t=d(i)),t[s]=e[s])})),t},$apply:function(e,t){var o;return n("function"==typeof(o=e),(function(){return"update(): expected spec of $apply to be a function; got "+s(o)+"."})),e(t)}},g=new c;function f(e,t,o){n(Array.isArray(e),(function(){return"update(): expected target of "+s(o)+" to be an array; got "+s(e)+"."})),m(t[o],o)}function m(e,t){n(Array.isArray(e),(function(){return"update(): expected spec of "+s(t)+" to be an array; got "+s(e)+". Did you forget to wrap your parameter in an array?"}))}function _(e){n(Array.isArray(e),(function(){return"update(): expected spec of $splice to be an array of arrays; got "+s(e)+". Did you forget to wrap your parameters in an array?"}))}function w(e,t){var o=a(e);n("Map"===o||"Set"===o,(function(){return"update(): "+s(t)+" expects a target of type Set or Map; got "+s(o)}))}t.isEquals=g.update.isEquals,t.extend=g.extend,t.default=g.update,t.default.default=e.exports=h(t.default,t)}($s,$s.exports);var Vs=function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}($s.exports);const Fs={width:"100%",height:"100%",overscanRowCount:5,overscanColumnCount:2};class Ws extends Hs{constructor(e){super({setLoading:[],destroy:[]},Object.assign({},Fs,e)),this.handle("setLoading",((e,t)=>Vs(e,{loading:{$set:t}}))),this.handle("destroy",(e=>Vs(e,{destroyed:{$set:!0}})))}destroy(){this.dispatch("destroy",void 0)}}const Xs={rows:[],rowIndexes:{},pinnedTopRows:[],pinnedBottomRows:[],normalRows:[],selectedRows:[],height:28,minHeight:20,rowHeights:{}};class js extends Hs{constructor(e){super({setCellValue:[],setPinnedBottomRows:[],setPinnedTopRows:[],takePinnedRows:[],setHoveredRow:[],selectRows:[],setRows:[],appendRowsBefore:[],takeRows:[],clear:[],setBaseHeight:[],setRowHeight:[]},Object.assign({},Xs,e)),this.handle("setCellValue",((e,{row:t,column:s,value:o})=>{const n=this.getRowInternalIndex(t);return void 0===n?e:Vs(e,{rows:{[n]:{[s]:{$set:o}}}})})),this.handle("setRows",((e,t)=>{const s={};t.forEach(((e,t)=>{s[e.id]=t}));const o=Object.keys(s),n=Be(o,e.pinnedTopRows),i=Be(o,e.pinnedBottomRows),r=Pe(o,n,i);return Vs(e,{rows:{$set:t},rowIndexes:{$set:s},pinnedTopRows:{$set:n},pinnedBottomRows:{$set:i},normalRows:{$set:r},selectedRows:{$set:Pe(e.selectedRows,o)}})})),this.handle("appendRowsBefore",((e,{index:t,rows:s})=>{const o=this.getRowIdByIndex(t);let n=this.getRowInternalIndex(o)||0;s=s.filter((t=>{const s=e.rowIndexes[t.id];return void 0===s||(e.rows[s]=t,!1)})),n=Math.max(n,0),s=[...e.rows.slice(0,n),...s,...e.rows.slice(n,e.rows.length)];const i={};return s.forEach(((e,t)=>{i[e.id]=t})),this.isPinnedTop(o)?Vs(e,{rows:{$set:s},rowIndexes:{$set:i},pinnedTopRows:{$set:[...e.pinnedTopRows.slice(0,t),...Pe(s.map((e=>e.id)),e.pinnedTopRows),...e.pinnedTopRows.slice(t,e.pinnedTopRows.length)]}}):(t-=this._state.pinnedTopRows.length,this.isPinnedBottom(o)?(t-=this._state.normalRows.length,Vs(e,{rows:{$set:s},rowIndexes:{$set:i},pinnedBottomRows:{$set:[...e.pinnedBottomRows.slice(0,t),...Pe(s.map((e=>e.id)),e.pinnedBottomRows),...e.pinnedBottomRows.slice(t,e.pinnedBottomRows.length)]}})):(t=Math.max(t,0),Vs(e,{rows:{$set:s},rowIndexes:{$set:i},normalRows:{$set:[...e.normalRows.slice(0,t),...Pe(s.map((e=>e.id)),e.normalRows),...e.normalRows.slice(t,e.normalRows.length)]}})))})),this.handle("takeRows",((e,t)=>{t=t.filter((t=>void 0!==e.rowIndexes[t]));const s=e.rows.filter((e=>-1===t.indexOf(e.id))),o={};return s.forEach(((e,t)=>{o[e.id]=t})),Vs(e,{pinnedTopRows:{$set:Pe(e.pinnedTopRows,t)},pinnedBottomRows:{$set:Pe(e.pinnedBottomRows,t)},normalRows:{$set:Pe(e.normalRows,t)},rows:{$set:s},rowIndexes:{$set:o}})})),this.handle("setHoveredRow",((e,t)=>void 0===t||-1!==this.getRowIndex(t)?Vs(e,{hoveredRow:{$set:t}}):e)),this.handle("selectRows",((e,t)=>(t=this.getValidRows(t),Vs(e,{selectedRows:{$set:t}})))),this.handle("setPinnedTopRows",((e,t)=>(t=this.getValidRows(t),Vs(e,{pinnedTopRows:{$set:t},pinnedBottomRows:{$set:Pe(e.pinnedBottomRows,t)},normalRows:{$set:Pe(e.normalRows,t)}})))),this.handle("setPinnedBottomRows",((e,t)=>(t=this.getValidRows(t),Vs(e,{pinnedTopRows:{$set:Pe(e.pinnedTopRows,t)},pinnedBottomRows:{$set:t},normalRows:{$set:Pe(e.normalRows,t)}})))),this.handle("takePinnedRows",((e,t)=>{t=this.getValidRows(t);const s=Pe(e.pinnedTopRows,t),o=Pe(e.pinnedBottomRows,t),n=Pe(e.rows.map((e=>e.id)),s,o);return Vs(e,{pinnedTopRows:{$set:s},pinnedBottomRows:{$set:o},normalRows:{$set:n}})})),this.handle("clear",(e=>Vs(e,{rows:{$set:{}},pinnedTopRows:{$set:[]},pinnedBottomRows:{$set:[]},normalRows:{$set:[]},hoveredRow:{$set:void 0},selectedRows:{$set:[]}}))),this.handle("setBaseHeight",((e,t)=>Vs(e,{height:{$set:t}}))),this.handle("setRowHeight",((e,{row:t,height:s})=>Vs(e,{rowHeights:{[t]:{$set:s}}})))}getValidRows(e){return e.filter(((t,s)=>-1!==this.getRowIndex(t)&&e.indexOf(t,0)===s))}getRowInternalIndex(e){return this._state.rowIndexes[e]}appendRowsBefore(e,t){return this.dispatch("appendRowsBefore",{index:e,rows:t})}appendRows(e){return this.dispatch("appendRowsBefore",{index:this._state.pinnedTopRows.length+this._state.normalRows.length,rows:e})}selectRows(e){return this.dispatch("selectRows",e)}appendSelectedRows(e){return e=[...this._state.selectedRows,...e],this.dispatch("selectRows",e)}takeSelectedRow(e){const t=this._state.selectedRows.indexOf(e);if(-1!==t)return this.dispatch("selectRows",Vs(this._state.selectedRows,{$splice:[[t,1]]}))}setPinnedTopRows(e){return this.dispatch("setPinnedTopRows",e)}appendPinnedTopRows(e){return e=[...this._state.pinnedTopRows,...e],this.dispatch("setPinnedTopRows",e)}setPinnedBottomRows(e){return this.dispatch("setPinnedBottomRows",e)}appendPinnedBottomRows(e){return e=[...this._state.pinnedBottomRows,...e],this.dispatch("setPinnedBottomRows",e)}takePinnedRows(e){return this.dispatch("takePinnedRows",e)}isPinnedTop(e){return-1!==this._state.pinnedTopRows.indexOf(e)}isPinnedBottom(e){return-1!==this._state.pinnedBottomRows.indexOf(e)}isPinnedRow(e){return this.isPinnedTop(e)||this.isPinnedBottom(e)}getPinnedTopRows(){return this._state.pinnedTopRows}getPinnedBottomRows(){return this._state.pinnedBottomRows}getRowIds(){return this._state.normalRows}getRowIdByIndex(e){return e<this._state.pinnedTopRows.length?this._state.pinnedTopRows[e]:(e-=this._state.pinnedTopRows.length)<this._state.normalRows.length?this._state.normalRows[e]:(e-=this._state.normalRows.length,this._state.pinnedBottomRows[e])}getRowIndex(e){let t=this._state.pinnedTopRows.indexOf(e);return-1!==t?t:(t=this._state.normalRows.indexOf(e),-1!==t?t+this._state.pinnedTopRows.length:(t=this._state.pinnedBottomRows.indexOf(e),-1!==t?t+this._state.pinnedTopRows.length+this._state.normalRows.length:t))}getRowDataByIndex(e){return this.getRowData(this.getRowIdByIndex(e))}getRowData(e){return this._state.rows[this.getRowInternalIndex(e)]}getRawCellValue(e,t){const s=this.getRowInternalIndex(e);if(void 0!==s)return"#"===t?s+1:this._state.rows[s][t]}getRowsBetween(e,t){const s=Math.min(e,t),o=Math.max(e,t),n=[];for(let i=s;i<=o;i++){const e=this.getRowIdByIndex(i);void 0!==e&&n.push(e)}return n}sortRows(e){return this.dispatch("setRows",e(this._state.rows))}}const Us={selections:[]};class Ys extends Hs{constructor(e){super({selectCells:[],setEditing:[],setFilling:[]},Object.assign({},Us,e)),this.handle("selectCells",((e,t)=>t&&t.start&&t.end?p(c({},e),{selections:[new vt(t.start,t.end)]}):p(c({},e),{selections:[]}))),this.handle("setEditing",((e,t)=>p(c({},e),{editing:t}))),this.handle("setFilling",((e,t)=>p(c({},e),{filling:t})))}setEditing(e){this.dispatch("setEditing",e)}stopEditing(){this.dispatch("setEditing",void 0)}getCoordLocatedRange(e){for(let t=0;t<this._state.selections.length;t++)if(this._state.selections[t].contains(e))return this._state.selections[t]}}function Gs(e,t){return(e=Ks(e)).forEach(((s,o)=>{Array.isArray(s.children)?e[o]=p(c({},s),{children:Gs(s.children,t)}):e[o]=Object.assign({},t,s)})),e}function Ks(e){const t=[];return e.forEach((e=>{if(Array.isArray(e.children)){const s=Ks(e.children);t.push(p(c({},e),{children:s}))}else t.push(c({},e))})),t}function qs(e,t=1){var s=t;for(let o=0;o<e.length;o++){const n=e[o];if(Array.isArray(n.children)&&n.children.length>0){const e=qs(n.children,t+1);e>s&&(s=e)}}return s}function Qs(e,t,s){return null==s&&(s=Te()),1==t?e:Array.isArray(e.children)?(void 0===e.id&&(e.id=String(s())),e.children=e.children.map((e=>Qs(e,t-1,s))),e):{id:String(s()),isPadding:!0,headerName:"",children:[Qs(e,t-1,s)]}}function Js(e){const t=qs(e),s=Te();return e.map((e=>Qs(e,t,s)))}function Zs(e){let t=[],s={},o=[],n=[];return e.forEach((e=>{const i=e;if(!Array.isArray(i.children))return void o.push(e);if(0==i.children.length)return;t.push(i.id);const r=Zs(i.children);var l,a;s=Object.assign(s,{[i.id]:{id:i.id,headerName:i.headerName,columns:r.columns.map((e=>e.field)),groups:Le(r.groups.flat()),collapsed:i.collapsed,collapsible:i.collapsible}},r.groupsData),i.collapsed&&r.columns.slice(1).forEach((e=>{e.visible=!1})),o=o.concat(r.columns),0==n.length?n=r.groups:(l=n,a=r.groups,n=l.map(((e,t)=>l[t].concat(a[t]))))})),0==t.length?{groups:[],columns:o,groupsData:s}:{groups:[t,...n],columns:o,groupsData:s}}const eo={columnsDef:[],pinnedLeftColumns:[],pinnedRightColumns:[],normalColumns:[],columns:{},groups:[],groupsData:{},height:30},to={width:200,minWidth:100,visible:!0};class so extends Hs{constructor(e){super({updateColumnPinned:[],updateColumnWidth:[],updateColumnVisible:[],updateColumnName:[],updateGroupCollapsed:[],updateGroupName:[],setColumns:[],setHeight:[]},Object.assign({},eo,e)),this.setColumns=(e,t={})=>{let s=[],o=[],n=[],i={};return e.forEach((e=>{e=Object.assign({},t,e),i[e.field]=e,e.visible&&("left"==e.pinned?s.push(e.field):"right"==e.pinned?o.push(e.field):n.push(e.field))})),{pinnedLeftColumns:s,pinnedRightColumns:o,normalColumns:n,columns:i}},this.handle("updateColumnPinned",((e,{field:t,pinned:s})=>{const o=Vs(e,{columns:{[t]:{pinned:{$set:s}}}});return c(c({},o),this.setColumns(Object.values(o.columns)))})),this.handle("updateColumnVisible",((e,{field:t,visible:s})=>{const o=Vs(e,{columns:{[t]:{visible:{$set:s}}}});return c(c({},o),this.setColumns(Object.values(o.columns)))})),this.handle("updateColumnWidth",((e,{field:t,width:s,flex:o})=>Vs(e,void 0!==o?{columns:{[t]:{flex:{$set:o}}}}:{columns:{[t]:{width:{$set:s}}}}))),this.handle("updateColumnName",((e,{field:t,name:s})=>Vs(e,{columns:{[t]:{headerName:{$set:s}}}}))),this.handle("setColumns",((e,{columns:t,defaultOptions:s})=>{const o=Object.assign({},to,s),n=Zs(Js(Ks(t))),i=this.setColumns(n.columns,o);return Vs(e,{columnsDef:{$set:Gs(t,o)},pinnedLeftColumns:{$set:i.pinnedLeftColumns},pinnedRightColumns:{$set:i.pinnedRightColumns},normalColumns:{$set:i.normalColumns},columns:{$set:i.columns},groups:{$set:n.groups},groupsData:{$set:n.groupsData}})})),this.handle("updateGroupCollapsed",((e,{group:t,collapsed:s})=>{const o=(e,t)=>{const s={};return e.columns.forEach(((e,o)=>{s[e]={visible:{$set:0===o||!t}}})),s};let n=o(e.groupsData[t],s);!1===s&&e.groupsData[t].groups.forEach((t=>{n=Object.assign({},n,o(e.groupsData[t],e.groupsData[t].collapsed))}));const i=Vs(e,{groupsData:{[t]:{collapsed:{$set:s}}},columns:n});return c(c({},i),this.setColumns(Object.values(i.columns)))})),this.handle("updateGroupName",((e,{group:t,name:s})=>Vs(e,{groupsData:{[t]:{headerName:{$set:s}}}}))),this.handle("setHeight",((e,t)=>Vs(e,{height:{$set:t}})))}getColumnOptions(e){return this._state.columns[e]}getColumnOptionsByIndex(e){return this._state.columns[this.getColumnByIndex(e)]}getColumnIndex(e){const t=this._state.columns[e];if(!t)return-1;let s=-1;return"left"===t.pinned?s=this._state.pinnedLeftColumns.findIndex((t=>t==e)):"right"===t.pinned?(s=this._state.pinnedRightColumns.findIndex((t=>t==e)),-1!==s&&(s=s+this._state.pinnedLeftColumns.length+this._state.normalColumns.length)):void 0===t.pinned&&(s=this._state.normalColumns.findIndex((t=>t==e)),-1!==s&&(s+=this._state.pinnedLeftColumns.length)),s}getColumnByIndex(e){return e<this._state.pinnedLeftColumns.length?this._state.pinnedLeftColumns[e]:(e-=this._state.pinnedLeftColumns.length)<this._state.normalColumns.length?this._state.normalColumns[e]:(e-=this._state.normalColumns.length,this._state.pinnedRightColumns[e])}getGroupWidth(e,t=[]){const s=this._state.groupsData[e];if(!s)return{width:0,flex:void 0};let o,n=0;return s.columns.forEach((e=>{if(t.length>0&&-1===t.indexOf(e))return;const s=this.getColumnOptions(e);n+=Math.max((null==s?void 0:s.width)||0,(null==s?void 0:s.minWidth)||0)||0,(null==s?void 0:s.flex)&&(o=null==s?void 0:s.flex)})),{width:n,flex:o}}toggleGroupCollapsed(e){return this.dispatch("updateGroupCollapsed",{group:e,collapsed:!this._state.groupsData[e].collapsed})}lookForColumn(e,t){for(let s=0;s<e.length;s++){const o=e[s];if(o.children){const e=this.lookForColumn(o.children,t);if(e)return e}if(o.field===t)return{parent:e,index:s}}}moveColumn(e,t){const s=Ks(this._state.columnsDef),o=this.lookForColumn(s,e),n=this.lookForColumn(s,t);if(o.parent==n.parent)He(o.parent,o.index,n.index);else{const e=o.parent.splice(o.index,1)[0];n.parent.splice(n.index,0,e)}this.dispatch("setColumns",{columns:s})}}class oo{constructor(e,t,s){var o;this.grid=e,this.actions=s,this.events=(o=t,JSON.parse(JSON.stringify(o)))}on(e,t){return void 0!==this.actions[e]?this.actions[e](this.grid,t):(this.events[e].push(t),()=>{this.events[e].splice(this.events[e].indexOf(t),1)})}trigger(e,...t){for(let s=0;s<this.events[e].length;s++)if(!1===(0,this.events[e][s])(...t))return!1;return!0}}const no={selectedCellsChanged:(e,t)=>e.store("cell").subscribe("selectCells",((e,s)=>{t(new vt(e.start,e.end),s.selections)})),editingCellChanged:(e,t)=>e.store("cell").subscribe("setEditing",((e,s,o)=>{t(e,o.editing)})),fillingRangeChanged:(e,t)=>e.store("cell").subscribe("setFilling",((e,s,o)=>{t(e,o.filling)})),cellValueChanged:(e,t)=>e.store("row").subscribe("setCellValue",(e=>{t({row:e.row,column:e.column},e.value)})),rowPinnedChanged:(e,t)=>{const s=[];return s.push(e.store("row").subscribe("setPinnedTopRows",(e=>{e.forEach((e=>t(e,"top")))}))),s.push(e.store("row").subscribe("setPinnedBottomRows",(e=>{e.forEach((e=>t(e,"bottom")))}))),s.push(e.store("row").subscribe("takePinnedRows",(e=>{e.forEach((e=>t(e,void 0)))}))),()=>{s.forEach((e=>e()))}},rowBaseHeightChanged:(e,t)=>e.store("row").subscribe("setBaseHeight",t),selectedRowsChanged:(e,t)=>e.store("row").subscribe("selectRows",t),rowAdded:(e,t)=>e.store("row").subscribe("appendRowsBefore",(({rows:e})=>{e.forEach((e=>t(e.id)))})),rowRemoved:(e,t)=>e.store("row").subscribe("takeRows",(e=>{e.forEach((e=>t(e)))})),columnsChanged:(e,t)=>e.store("column").subscribe("setColumns",t),columnHeightChanged:(e,t)=>e.store("column").subscribe("setHeight",t),columnPinnedChanged:(e,t)=>e.store("column").subscribe("updateColumnPinned",(({field:e,pinned:s})=>{t(e,s)})),columnVisibleChanged:(e,t)=>e.store("column").subscribe("updateColumnVisible",(({field:e,visible:s})=>{t(e,s)})),columnWidthChanged:(e,t)=>e.store("column").subscribe("updateColumnWidth",(({field:e,width:s})=>{t(e,s)})),columnNameChanged:(e,t)=>e.store("column").subscribe("updateColumnName",(({field:e,name:s})=>{t(e,s)})),groupCollapsedChanged:(e,t)=>e.store("column").subscribe("updateGroupCollapsed",(({group:e,collapsed:s})=>{t(e,s)})),groupNameChanged:(e,t)=>e.store("column").subscribe("updateGroupName",(({group:e,name:s})=>{t(e,s)}))},io={beforeCellDbClicked:[],afterCellDbClicked:[],beforeCellMouseDown:[],afterCellMouseDown:[],beforeCellMouseMove:[],afterCellMouseMove:[],beforeFillerMouseDown:[],afterFillerMouseDown:[],beforeFilling:[],afterFilling:[],beforeSelectionChange:[],afterSelectionChange:[],beforeContextMenuShow:[],afterContextMenuShow:[],beforeColumnResizingStart:[],afterColumnResizingStart:[],beforeColumnResizingEnd:[],afterColumnResizingEnd:[],beforeRowResizingStart:[],afterRowResizingStart:[],beforeRowResizingEnd:[],afterRowResizingEnd:[],beforeKeyDown:[],afterKeyDown:[],beforeKeyPress:[],afterKeyPress:[],beforeKeyUp:[],afterKeyUp:[],beforeCopy:[],afterCopy:[],beforePaste:[],afterPaste:[],beforeRowDragStart:[],afterRowDragStart:[],beforeRowDragEnd:[],afterRowDragEnd:[],beforeColumnDragStart:[],afterColumnDragStart:[],beforeColumnDragEnd:[],afterColumnDragEnd:[]},ro={width:"100%",height:"100%",headerHeight:30,rowHeight:28,overscanRowCount:5,overscanColumnCount:2};class lo{constructor(e,t,s=Ls){this.container=e,t=Object.assign({grid:this},ro,t),this.root=new As({grid:new Ws({width:t.width,height:t.height,overscanRowCount:t.overscanRowCount,overscanColumnCount:t.overscanColumnCount,scrollThrottleRate:t.scrollThrottleRate,rowResizable:t.rowResizable,fillable:t.fillable,getContextMenuItems:t.getContextMenuItems}),row:new js({height:t.rowHeight,minHeight:t.minRowHeight,rowStyle:t.rowStyle,getRowStyle:t.getRowStyle,rowClass:t.rowClass,getRowClass:t.getRowClass}),cell:new Ys,column:new so({height:t.headerHeight,getColumnMenuItems:t.getColumnMenuItems})}),this.setColumns(t.columns,t.defaultColumnOption),this.appendRows(t.rows),this.observer=new oo(this,io,no),s(this,e)}getRoot(){return this.root}appendChild(e){return!e||this.container.firstChild.contains(e)?e:this.container.firstChild.appendChild(e)}removeChild(e){return e&&this.container.firstChild.contains(e)?this.container.firstChild.removeChild(e):e}getRootElement(){return this.container.firstChild}on(e,t){return this.observer.on(e,t)}trigger(e,...t){return this.observer.trigger(e,...t)}getSelectBoundary(e,t){const s=this.getCoordinate(e,t),o=this.getCoordLocatedRange(s);if(void 0===o)return;let n={left:!1,top:!1,bottom:!1,right:!1};return o.isLeft(s)&&(n.left=!0),o.isRight(s)&&(n.right=!0),o.isTop(s)&&(n.top=!0),o.isBottom(s)&&(n.bottom=!0),n}getFillingBoundary(e,t){const s=this.getCoordinate(e,t),o=this.state("cell").filling;if(void 0===o||!o.contains(s))return;let n={left:!1,top:!1,bottom:!1,right:!1};return o.isLeft(s)&&(n.left=!0),o.isRight(s)&&(n.right=!0),o.isTop(s)&&(n.top=!0),o.isBottom(s)&&(n.bottom=!0),n}getContextMenuItems(e){return this.state("grid").getContextMenuItems?this.state("grid").getContextMenuItems(p(c({},e),{grid:this})):[]}getColumnMenuItems(e){return this.state("column").getColumnMenuItems&&this.state("column").getColumnMenuItems({column:e,grid:this})||[]}getState(){return this.root.getState()}store(e){return this.root.store(e)}state(e){return this.root.state(e)}destroy(){return this.store("grid").destroy(),new Promise((e=>{setTimeout(e,0)}))}setLoading(e){return this.store("grid").dispatch("setLoading",e)}isLoading(){return this.state("grid").loading}copySelection(){let e="";var t;this.state("cell").selections.forEach((t=>{let s=-1;t.each((t=>{-1!==s&&(e+=t.y!==s?"\n":"\t"),e+=this.getCellValueByCoord(t),s=t.y}))})),!1!==this.trigger("beforeCopy",e)&&(t=e,ke?ke(t):new Promise((function(e,s){var o=!1;function n(e){e.clipboardData.setData("text/plain",t),e.preventDefault(),o=!0}document.addEventListener("copy",n),document.execCommand("copy"),document.removeEventListener("copy",n),o?e():s()})),this.trigger("afterCopy",e))}pasteFromClipboard(e=!1){const t=this.state("cell").selections[0];if(!t)return;const s=t.start,o=t.getCellCount();(function(){if(ze)return ze();throw new Error("Read from clipboard is not supported in your browser.")})().then((n=>{if(n=n.replace(/(\r\n|\r|\n)/g,"\n"),!1===this.trigger("beforePaste",n))return;let i=c({},s);e?this.setCellValueByCoord(s,n):n.split("\n").forEach(((e,n)=>{e.split("\t").forEach(((e,r)=>{const l={x:r+s.x,y:n+s.y};(t.contains(l)||1===o)&&(i=l,this.setCellValueByCoord(l,e))}))})),this.selectCells(s,i),this.trigger("afterPaste",n)}))}getCoordinate(e,t){const s={x:this.store("column").getColumnIndex(t),y:this.store("row").getRowIndex(e)};return-1==s.x||-1==s.y?{x:-1,y:-1}:s}getCellPosition(e){return{row:this.getRowIdByIndex(e.y),column:this.getColumnByIndex(e.x)}}getRawCellValue(e,t){return this.store("row").getRawCellValue(e,t)}getRawCellValueByCoord(e){return this.getRawCellValue(this.getRowIdByIndex(e.y),this.getColumnByIndex(e.x))}getCellValue(e,t){const s=this.getColumnOptions(t,e),o=null==s?void 0:s.transformer,n=this.getRawCellValue(e,t);return o?o.format({value:n,column:s,gird:this}):n}getCellValueByCoord(e){return this.getCellValue(this.getRowIdByIndex(e.y),this.getColumnByIndex(e.x))}setCellValue(e,t,s,o=!1){const n=this.getRawCellValue(e,t),i=this.getColumnOptions(t,e);if(void 0===n||void 0===i||i.readonly)return;const r=i.transformer;n===(s=r?r.parse({oldValue:n,value:s,column:i,gird:this}):s)&&!0!==o||this.store("row").dispatch("setCellValue",{row:e,column:t,value:s})}setCellValueByCoord(e,t){return this.setCellValue(this.getRowIdByIndex(e.y),this.getColumnByIndex(e.x),t)}stopEditing(){this.store("cell").stopEditing()}setEditing(e){this.store("cell").setEditing(e)}selectCells(e,t){return this.store("cell").dispatch("selectCells",{start:e,end:t})}deselectAllCells(){return this.store("cell").dispatch("selectCells",void 0)}getCoordLocatedRange(e){return this.store("cell").getCoordLocatedRange(e)}getColumnOptions(e,t){const s=this.store("column").getColumnOptions(e);return void 0===t||void 0===(null==s?void 0:s.columnOptionsSelector)?s:Object.assign({},s,s.columnOptionsSelector({row:t,gird:this}))}getColumnOptionsByIndex(e,t){return void 0!==t?this.getColumnOptions(this.getColumnByIndex(e),this.store("row").getRowIdByIndex(t)):this.store("column").getColumnOptionsByIndex(e)}getColumnByIndex(e){return this.store("column").getColumnByIndex(e)}getPinnedLeftColumns(){return this.state("column").pinnedLeftColumns}getPinnedRightColumns(){return this.state("column").pinnedRightColumns}getNoPinnedColumns(){return this.state("column").normalColumns}setColumns(e,t){return this.store("column").dispatch("setColumns",{columns:e,defaultOptions:t})}setColumnName(e,t){return this.store("column").dispatch("updateColumnName",{field:e,name:t})}setColumnPinned(e,t){return this.store("column").dispatch("updateColumnPinned",{field:e,pinned:t})}setColumnVisible(e,t){return this.store("column").dispatch("updateColumnVisible",{field:e,visible:t})}setColumnWidth(e,t){return this.store("column").dispatch("updateColumnWidth",{field:e,width:t.width,flex:t.flex})}setColumnHeight(e){return this.store("column").dispatch("setHeight",e)}getGroups(){return Object.values(this.state("column").groupsData)}getGroupData(e){return this.state("column").groupsData[e]}setGroupCollapsed(e,t){return this.store("column").dispatch("updateGroupCollapsed",{group:e,collapsed:t})}toggleGroupCollapsed(e){return this.store("column").toggleGroupCollapsed(e)}setGroupName(e,t){return this.store("column").dispatch("updateGroupName",{group:e,name:t})}getRowIdByIndex(e){return this.store("row").getRowIdByIndex(e)}getRowIndex(e){return this.store("row").getRowIndex(e)}getRowInternalIndex(e){return this.store("row").getRowInternalIndex(e)}getRowDataByIndex(e){return this.store("row").getRowDataByIndex(e)}getRowData(e){return this.store("row").getRowData(e)}appendRows(e){return this.store("row").appendRows(e)}appendRowsBefore(e,t){return this.store("row").appendRowsBefore(e,t)}removeRows(e){return this.store("row").dispatch("takeRows",e)}clearRows(){return this.store("row").dispatch("clear",void 0)}getSelectedRows(){return this.state("row").selectedRows}selectRows(e){return this.store("row").selectRows(e)}appendSelectedRows(e){return this.store("row").appendSelectedRows(e)}takeSelectedRow(e){return this.store("row").takeSelectedRow(e)}getRowIds(){return this.store("row").getRowIds()}getRowsBetween(e,t){return this.store("row").getRowsBetween(e,t)}getPinnedTopRows(){return this.store("row").getPinnedTopRows()}setPinnedTopRows(e){return this.store("row").setPinnedTopRows(e)}appendPinnedTopRows(e){return this.store("row").appendPinnedTopRows(e)}getPinnedBottomRows(){return this.store("row").getPinnedBottomRows()}setPinnedBottomRows(e){return this.store("row").setPinnedBottomRows(e)}appendPinnedBottomRows(e){return this.store("row").appendPinnedBottomRows(e)}takePinnedRows(e){return this.store("row").takePinnedRows(e)}isPinnedTop(e){return this.store("row").isPinnedTop(e)}isPinnedBottom(e){return this.store("row").isPinnedBottom(e)}isPinnedRow(e){return this.store("row").isPinnedRow(e)}setRowBaseHeight(e){return this.store("row").dispatch("setBaseHeight",e)}}const ao={max:10,size:14,activeColor:"#fadb13"};class ho extends f{constructor(){super(...arguments),this.element=document.createElement("div")}init(e){const t=Object.assign({},ao,e.props),s=Math.min(Number(e.value),t.max);if(s<=0)return;const o=`color: ${t.activeColor}; font-size: ${t.size}px;`;let n="";for(let i=0;i<s;i++)n+=`<span style="${o}" class="vg-star-full"></span>`;this.element.innerHTML=n}gui(){return this.element}}var uo="v-grid-inline-selection-option",co="v-grid-inline-selection-active-option";const po={options:{},defaultOption:{fgColor:"#333333",bgColor:"#eaeaea"}};class go extends f{constructor(){super(...arguments),this.element=document.createElement("div")}init(e){const t=Object.assign({},po,e.props);let s="";Array.isArray(e.value)&&e.value.forEach((e=>{let o=t.defaultOption.bgColor,n=t.defaultOption.fgColor;t.options[e]&&(o=t.options[e].bgColor||o,n=t.options[e].fgColor||n,e=t.options[e].name||e),s+=`<span class="${uo}" style="background: ${o}; color: ${n}">${e}</span>`})),this.element.className="v-grid-inline-selections",this.element.innerHTML=s}gui(){return this.element}}var fo="v-grid-inline-checkbox",mo="v-grid-inline-checkbox-checked";class _o extends f{constructor(){super(...arguments),this.element=document.createElement("div")}init(e){this.element.className=fo,Boolean(e.value)&&(this.element.innerHTML='<span class="vg-checkmark"></span>',this.element.className+=" "+mo)}gui(){return this.element}}class wo extends f{constructor(){super(...arguments),this.element=document.createElement("a")}init(e){const t=Object.assign({openInBlank:!0},e.props);if("object"==typeof e.value){const t=e.value.link,s=e.value.title||t;this.element.href=t,this.element.innerText=s}t.openInBlank&&(this.element.target="_blank")}gui(){return this.element}}const vo={type:"text"};class Co extends m{init(e){const t=Object.assign({},vo,e.props);this.input||(this.input=document.createElement("input"),this.input.type=t.type,this.input.className="v-grid-inline-input",this.input.addEventListener("keydown",(t=>{"Enter"===t.key&&e.gird.stopEditing(),t.stopPropagation()}))),this.input.value=e.value}gui(){return this.input}afterAttached(){this.input.focus(),this.input.select()}getValue(){return this.input?this.input.value:""}}const Ro={max:10,size:14,activeColor:"#fadb13",defaultColor:"#dedede"};class yo extends m{constructor(){super(...arguments),this.elements=[],this.value=0,this.props={}}init(e){if(this.props=Object.assign({},Ro,e.props),!this.editor){this.editor=document.createElement("div"),this.editor.className="v-grid-inline-rating-wrapper";for(let e=1;e<=this.props.max;e++){const t=document.createElement("span");t.className="vg-star-full",t.style.fontSize=this.props.size+"px",t.addEventListener("click",(()=>{this.setValue(this.value==e?0:e)})),t.addEventListener("mouseover",(()=>{this.active(e)})),t.addEventListener("mouseout",(()=>{this.setValue(this.value)})),this.elements.push(t),this.editor.appendChild(t)}}this.setValue(e.value)}gui(){return this.editor}setValue(e){this.value=e,this.active(this.value)}active(e){this.elements.forEach(((t,s)=>{t.style.color=s<e?this.props.activeColor:this.props.defaultColor}))}getValue(){return this.value}}class bo extends m{init(e){this.wrapper||(this.wrapper=document.createElement("div"),this.wrapper.className="v-grid-inline-checkbox-wrapper",this.checkbox=document.createElement("div"),this.checkbox.className=`${fo} v-grid-inline-checkbox-editor`,this.mark=document.createElement("span"),this.mark.className="vg-checkmark",this.checkbox.appendChild(this.mark),this.wrapper.appendChild(this.checkbox),this.checkbox.addEventListener("click",(()=>{this.setValue(!this.value)}))),this.setValue(Boolean(e.value))}setValue(e){this.value=e,this.value?ve.appendClassName(this.checkbox,mo):ve.removeClassName(this.checkbox,mo)}gui(){return this.wrapper}getValue(){return this.value}}const xo={options:{},defaultOption:{fgColor:"#333333",bgColor:"#eaeaea"}};class So extends m{constructor(){super(...arguments),this.options={},this.value=[]}init(e){this.wrapper||(this.props=Object.assign({},xo,e.props),this.wrapper=document.createElement("div"),this.wrapper.className="v-grid-inline-selections-editor",Object.keys(this.props.options).forEach((e=>{const t=this.props.options[e].bgColor||this.props.defaultOption.bgColor,s=this.props.options[e].fgColor||this.props.defaultOption.fgColor,o=this.props.options[e].name||e;this.options[e]=document.createElement("div"),this.options[e].className="v-grid-inline-selection-editing-option",this.options[e].innerHTML=`<span class="${uo}" style="background: ${t}; color: ${s}">${o}</span>`,this.options[e].addEventListener("click",(()=>this.toggleSelect(e))),this.wrapper.appendChild(this.options[e])}))),this.setValue(e.value)}gui(){return this.wrapper}isPopup(){return!0}getValue(){return this.value}setValue(e){Array.isArray(e)&&(this.value=e,Object.values(this.options).forEach((e=>{ve.removeClassName(e,co)})),this.value.forEach((e=>{this.options[e]&&ve.appendClassName(this.options[e],co)})))}toggleSelect(e){const t=this.value.findIndex((t=>t==e));if(this.props.multiple)return-1===t?this.value.push(e):this.value.splice(t,1),this.setValue(this.value);-1===t?this.setValue([e]):this.setValue([])}}class Eo extends _{format(e){return Boolean(e.value)?"1":""}parse(e){return Boolean(e.value)}}class Mo extends _{constructor(e={allowNotExistOption:!0}){super(),this.props=e}format(e){return"string"==typeof e.value?e.value:Array.isArray(e.value)?e.value.toString():""}parse(e){if(Array.isArray(e.value))return e.value;if("string"==typeof e.value){const t=e.value.split(",");return this.props.allowNotExistOption?t:t.filter((e=>this.props.options.indexOf(e)>-1))}return[]}}}}]);